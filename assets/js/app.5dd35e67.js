(function(e){function t(t){for(var n,s,o=t[0],c=t[1],l=t[2],u=0,d=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&d.push(i[s][0]),i[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},i={app:0},r=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var p=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0d3e":function(e,t,a){},"0d5e":function(e,t,a){"use strict";var n=a("bc3a"),i=a.n(n),r="/",s=i.a.create({baseURL:r,timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json","Cache-Control":"no-cache"}});t["a"]=s},"0f62":function(e,t,a){},"101c":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticStyle:{height:"100%"}},[a("PageHeading",{attrs:{name:"Applications"}},[a("v-spacer",{staticClass:"hidden-xs-only"}),a("v-btn",{staticClass:"mr-6",attrs:{color:"primary",small:e.$vuetify.breakpoint.xs},on:{click:e.openConnectAppDialog}},[a("v-icon",{attrs:{left:""}},[e._v("cloud")]),a("span",[e._v("Connect App")])],1)],1),e.errors?e._e():a("v-row",{staticClass:"px-4"},e._l(Object.values(e.apps),(function(t){return a("v-col",{key:t.id,staticClass:"pa-2",class:{"px-0":e.$vuetify.breakpoint.xs},attrs:{cols:"12",sm:"6",md:"4",xl:"3"}},[a("v-card",{staticClass:"border-radius-0 app-card",attrs:{color:"white darken-1","data-qa":"AppCard"}},[a("v-card-title",{staticClass:"subtitle-1 my-0",attrs:{"primary-title":""}},[e._v(" "+e._s(e._f("truncateText")(t.name,25))+" "),t.tr_st&&t.tr_st<400?a("v-icon",{staticClass:"ml-2",attrs:{color:"success"},on:{click:function(a){return e.openAppDetailsDialog(t)}}},[e._v("check")]):t.tr_st&&t.tr_st>=400?a("v-icon",{staticClass:"ml-2",attrs:{color:"error"},on:{click:function(a){return e.openAppDetailsDialog(t)}}},[e._v("close")]):e._e(),a("v-spacer"),!0===t.default?a("v-chip",{staticClass:"white--text mr-2",attrs:{color:"accent"}},[e._v("Auto-add")]):e._e(),a("v-chip",{staticClass:"mr-2",attrs:{color:1===t.type?"#baf1ff":""}},[e._v(e._s(t.managed?"Managed":1===t.type?"Murano":"External"))])],1),t.url?a("a",{attrs:{href:t.url,target:"_blank"}},[a("div",{staticClass:"app-logo"},[a("img",{attrs:{src:e.getAppImageSrc(t),alt:"application logo"}})])]):a("div",{staticClass:"app-logo"},[a("img",{attrs:{src:e.getAppImageSrc(t),alt:"application logo"}})]),t.description?a("v-card-text",[a("p",{staticClass:"mb-0"},[e._v(" "+e._s(e._f("truncateText")(t.description,120))+" ")])]):e._e(),a("v-spacer",{style:{"min-height":t.description?"":"17px"}}),a("v-card-actions",{staticClass:"px-4 pb-4"},[a("v-btn",{staticClass:"mr-2 ml-1",attrs:{color:"primary",outlined:""},on:{click:function(a){return e.openAppDetailsDialog(t)}}},[e._v("Settings")]),a("v-spacer"),t.managed?e._e():a("v-icon",{staticClass:"delete-icon",attrs:{"data-qa":"AppCardDelete",text:""},on:{click:function(a){return e.openDeleteAppDialog(t)}}},[e._v("delete")])],1)],1)],1)})),1),e.errors?e._e():a("h2",{staticClass:"subtitle-1 my-0 pt-4 pl-3"},[e._v("Connect to ..")]),e.errors?e._e():a("v-divider"),e.errors?e._e():a("AppCards"),e.showInfoBox||e.appsLoading&&!e.errors?a("v-row",{staticStyle:{height:"60%"},attrs:{justify:"center",align:"center"}},[e.appsLoading&&!e.errors?a("LoadingView",{attrs:{text:"Loading applications"}}):e._e(),e.showInfoBox?a("InfoBox",{attrs:{texts:e.errors||["You have no configured apps"],"btn-text":e.errors?null:"Connect App",links:e.branding.links,error:!!e.errors},on:{action:function(t){return e.openConnectAppDialog()}}}):e._e()],1):e._e(),a("AppDetailsDialog",{attrs:{app:e.selectedApp,branding:e.branding},on:{"action-done":e.appDetailsSaved},model:{value:e.appDetailsDialogOpen,callback:function(t){e.appDetailsDialogOpen=t},expression:"appDetailsDialogOpen"}}),a("AppTokenDialog",{attrs:{"app-token":e.appToken,branding:e.branding},model:{value:e.appTokenDialogOpen,callback:function(t){e.appTokenDialogOpen=t},expression:"appTokenDialogOpen"}}),a("ConnectAppDialog",{attrs:{apps:e.apps,"selected-app":e.selectedApp,branding:e.branding},on:{"action-done":e.openAppTokenDialog},model:{value:e.connectAppDialogOpen,callback:function(t){e.connectAppDialogOpen=t},expression:"connectAppDialogOpen"}}),a("DeleteAppDialog",{attrs:{app:e.appToDelete,branding:e.branding},on:{"action-done":function(t){return e.$emit("refetchApps")}},model:{value:e.deleteAppDialogOpen,callback:function(t){e.deleteAppDialogOpen=t},expression:"deleteAppDialogOpen"}})],1)},i=[],r=a("19ad"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("StandardDialog",{attrs:{persistent:"",width:"700"},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[a("template",{slot:"title"},[e._v(" Application added successfully ")]),a("template",{slot:"topRightIcon"},[a("a",{attrs:{href:e.branding.links.helpApp,target:"_blank"}},[a("v-icon",[e._v(" help ")])],1)]),a("template",{slot:"content"},[e.appToken?a("div",{staticClass:"subtitle-1"},[e._v(" App Token: "),a("div",{staticClass:"primary--text mt-1",class:{"body-2":e.$vuetify.breakpoint.xs},style:{wordBreak:"break-all"}},[e._v(" "+e._s(e.appToken)+" ")]),a("input",{attrs:{id:"appToken",type:"hidden"},domProps:{value:e.appToken}})]):e._e()]),a("template",{slot:"actions"},[a("v-spacer"),a("v-btn",{staticClass:"mr-2",attrs:{text:"","data-qa":"AppTokenButtonClose"},on:{click:function(t){e.open=!1}}},[e._v("Close")]),a("v-tooltip",{key:e.tokenCopied,attrs:{disabled:!e.tokenCopied,top:"","close-delay":"700"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[e.appToken?a("div",e._g({},n),[a("v-btn",{attrs:{color:"primary","data-qa":"AppTokenButtonCopy"},on:{click:e.copyToken}},[e._v(" Copy Token ")])],1):e._e()]}}])},[a("span",[e._v("Token copied!")])])],1)],2)},o=[],c=function(e){e.setAttribute("type","text"),e.select(),document.execCommand("copy"),e.setAttribute("type","hidden"),window.getSelection().removeAllRanges()},l={copyToClipboard:c},p={props:{value:{type:Boolean,required:!0},appToken:{type:String,required:!0},branding:{type:Object,required:!0}},data:function(){return{open:!1,tokenCopied:!1}},watch:{value:function(){this.open=this.value},open:function(){this.$emit("input",this.open),!this.open&&this.$emit("close-dialog"),this.open&&this.reset()}},methods:{reset:function(){this.tokenCopied=!1},copyToken:function(){var e=document.querySelector("#appToken");l.copyToClipboard(e),this.tokenCopied=!0}}},u=p,d=a("2877"),h=Object(d["a"])(u,s,o,!1,null,null,null),f=h.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("StandardDialog",{attrs:{action:e.action,persistent:!1,"secondary-action":e.openApp,"secondary-button":!!e.app.u,valid:e.valid&&e.isModified,validate:e.validate,"allow-enter-submit":"","cancel-button":"","cancel-text":"close","secondary-text":"See app",submit:"",width:"550","action-done":"action-done"},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[a("template",{slot:"title"},[e.app.url?[a("a",{attrs:{href:e.app.url,target:"_blank"}},[e._v(e._s(e.app.name))])]:[e._v(" "+e._s(e.app.name)+" ")],a("v-chip",{staticClass:"ml-2",attrs:{color:1===e.app.type?"#baf1ff":""}},[e._v(" "+e._s(e.app.managed?"Managed":1===e.app.type?"Murano":"External")+" ")]),a("v-chip",{staticClass:"ml-2",on:{click:function(t){return e.CheckDevicesfromApp(e.app.id)}}},[e._v(" Show Devices ")])],2),a("template",{slot:"topRightIcon"},[a("a",{attrs:{href:e.branding.links.helpApp,target:"_blank"}},[a("v-icon",[e._v("help")])],1)]),a("template",{slot:"content"},[a("v-subheader",[e._v("Id: "+e._s(e.app.id))]),e.app.description?a("v-card-text",[a("p",{staticClass:"mb-0"},[e._v(" "+e._s(e.app.description)+" ")])]):e._e(),a("v-form",{ref:"appDetailsForm",staticClass:"capitalize-select-form",on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-switch",{attrs:{label:"Automatically add new devices to this App.",primary:""},model:{value:e.appDefault,callback:function(t){e.appDefault=t},expression:"appDefault"}}),2!==e.app.type||e.app.managed?e._e():a("v-text-field",{staticClass:"my-1",attrs:{rules:[function(e){return/^https:\/\//.test(e)||"Must start with https://"},function(e){return/^https:\/\/.+\..+/.test(e)||"Invalid URL"}],"data-qa":"ExternalHttpsInput",label:"HTTPS callback URL",required:"",primary:""},model:{value:e.httpsTarget,callback:function(t){e.httpsTarget=t},expression:"httpsTarget"}}),2!==e.app.type||e.app.managed?e._e():a("v-select",{staticClass:"capitalize-select",attrs:{items:e.authTypeOptions,"data-qa":"AppAuthTypeInput","item-text":"name","item-value":"id",label:"Authentication type",primary:""},model:{value:e.authType,callback:function(t){e.authType=t},expression:"authType"}}),2!==e.app.type||e.app.managed||"token"!=e.authType?e._e():a("v-text-field",{staticClass:"mb-2",attrs:{rules:[function(e){return/^[\w]*$/.test(e)||"Invalid token format"}],"data-qa":"TokenPrefixInput",label:"Token prefix",required:"",primary:""},model:{value:e.tokenPrefix,callback:function(t){e.tokenPrefix=t},expression:"tokenPrefix"}}),2!==e.app.type||e.app.managed?e._e():a("v-text-field",{staticClass:"mb-2",attrs:{"data-qa":"AuthSecretInput",label:"Auth Secret",required:"",primary:""},model:{value:e.authSecret,callback:function(t){e.authSecret=t},expression:"authSecret"}}),2!==e.app.type||e.app.managed?e._e():a("v-subheader",[e._v("Info (optional)")]),2!==e.app.type||e.app.managed?e._e():a("v-divider"),2!==e.app.type||e.app.managed?e._e():a("v-text-field",{attrs:{"data-qa":"AppNameInput",label:"Name",primary:""},model:{value:e.appName,callback:function(t){e.appName=t},expression:"appName"}}),2!==e.app.type||e.app.managed?e._e():a("v-text-field",{attrs:{"data-qa":"AppDescriptionInput",label:"Description",primary:""},model:{value:e.appDescription,callback:function(t){e.appDescription=t},expression:"appDescription"}}),2!==e.app.type||e.app.managed?e._e():a("v-text-field",{attrs:{"data-qa":"AppUrlInput",label:"Link",primary:""},model:{value:e.appUrl,callback:function(t){e.appUrl=t},expression:"appUrl"}}),2!==e.app.type||e.app.managed?e._e():a("v-text-field",{attrs:{"data-qa":"AppLogoInput",label:"Logo Url",primary:""},model:{value:e.appLogo,callback:function(t){e.appLogo=t},expression:"appLogo"}}),e.app.tr_st?a("v-alert",{staticClass:"mt-4",class:{"app-status":!e.app.tr_err},attrs:{type:e.appStatus,"data-qa":"StatusAlertqa",outlined:""}},[e._v(" Last Callback Status: "),a("v-chip",{staticStyle:{color:"white"},attrs:{color:e.appStatus}},[e._v(e._s(e.app.tr_st))]),a("div",[e._v(e._s(e.app.tr_err))])],1):e._e(),e.app.c?e._e():a("div",{staticClass:"font-italic mt-4"},[e._v("Hasn't connected yet")])],1)],1)],2)},m=[],g=a("a34a"),b=a.n(g),y={props:{value:{type:Boolean,required:!0},app:{type:Object,required:!0},branding:{type:Object,required:!0}},data:function(){return{appName:"",appUrl:"",appDescription:"",appLogo:"",appDefault:!0,httpsTarget:"https://",authType:"basic",authSecret:"",tokenPrefix:"",authTypeOptions:["basic","token"],open:!1,valid:!1}},computed:{appStatus:function(){return this.app.tr_st&&this.app.tr_st<400?"success":"error"},isModified:function(){return this.app.default!==this.appDefault||2===this.app.type&&(this.app.name!==this.appName||this.app.description!==this.appDescription||this.app.url!==this.appUrl||this.app.logo!==this.appLogo||this.app.td.c!==this.httpsTarget||this.app.td.t!==this.authType||"token"===this.app.td.t&&this.app.td.tp!==this.tokenPrefix)}},watch:{value:function(){this.open=this.value},open:function(){this.$emit("input",this.open),!this.open&&this.$emit("close-dialog"),this.open&&this.reset()}},methods:{openApp:function(){window.open(this.app.url)},reset:function(){var e=this;2===this.app.type&&this.app.td&&(this.httpsTarget=this.app.td.c,this.authType=this.app.td.t||"basic",this.$nextTick((function(){e.tokenPrefix=e.app.td.tp||""}))),this.appName=this.app.name,this.appDescription=this.app.description,this.appUrl=this.app.url,this.appLogo=this.app.logo,this.appDefault=this.app.default,this.authSecret=""},action:function(){var e,t,a;return b.a.async((function(n){while(1)switch(n.prev=n.next){case 0:return e={default:this.appDefault},2===this.app.type&&(t={c:this.httpsTarget,t:this.authType},""!==this.appName&&(e.name=e.n=this.appName),this.appDescription&&(e.d=this.appDescription),this.appUrl&&(e.u=this.appUrl),this.appLogo&&(e.l=this.appLogo),this.authType&&(t.tp=this.tokenPrefix),""!==this.authSecret&&(t.s=this.authSecret),e.td=t),n.next=4,b.a.awrap(this.app.edit(e));case 4:return a=n.sent,a.error&&this.$parent.$emit("openSnackbar","error",a.error.toString()),n.abrupt("return",a);case 7:case"end":return n.stop()}}),null,this)},validate:function(){return this.$refs.appDetailsForm.validate()},CheckDevicesfromApp:function(e){this.$router.push({name:"DevicesPage",params:{select:e}})}}},x=y,_=(a("7d3a"),Object(d["a"])(x,v,m,!1,null,null,null)),k=_.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("StandardDialog",{attrs:{action:e.connectApp,persistent:!1,valid:e.valid,validate:e.validate,"allow-enter-submit":"","cancel-button":"","confirm-button":"","confirm-text":"Connect App",width:"500"},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[a("template",{slot:"title"},[e._v(" Connect App ")]),a("template",{slot:"topRightIcon"},[a("a",{attrs:{href:e.branding.links.helpApp,target:"_blank"}},[a("v-icon",[e._v(" help ")])],1)]),a("template",{slot:"content"},[a("v-form",{ref:"connectAppForm",on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-select",{attrs:{items:["Murano","External HTTPS"],"data-qa":"AppTypeInput",label:"Type",required:"",primary:""},model:{value:e.appType,callback:function(t){e.appType=t},expression:"appType"}}),a("v-switch",{attrs:{label:"Automatically add new devices to this App",primary:""},model:{value:e.defaultApp,callback:function(t){e.defaultApp=t},expression:"defaultApp"}}),"Murano"==e.appType?a("v-text-field",{attrs:{rules:[function(e){return!!e||"Solution ID is required"}],"data-qa":"MuranoSolutionIdInput",label:"SolutionId",required:"",autofocus:""},model:{value:e.muranoSolutionId,callback:function(t){e.muranoSolutionId=t},expression:"muranoSolutionId"}}):e._e(),"External HTTPS"==e.appType?a("v-text-field",{attrs:{rules:[function(e){return/^https:\/\//.test(e)||"Must start with https://"},function(e){return/^https:\/\/.+\..+/.test(e)||"Invalid URL"}],"data-qa":"ExternalHttpsInput",label:"HTTPS callback URL",required:"",primary:""},on:{focus:function(e){return e.target.select()}},model:{value:e.httpsTarget,callback:function(t){e.httpsTarget=t},expression:"httpsTarget"}}):e._e(),"External HTTPS"==e.appType?a("v-select",{attrs:{items:e.authTypeOptions,"data-qa":"AppAuthTypeInput","item-text":"name","item-value":"id",label:"Authentication type",autofocus:"",primary:""},model:{value:e.authType,callback:function(t){e.authType=t},expression:"authType"}}):e._e(),"External HTTPS"==e.appType&&"token"==e.authType?a("v-text-field",{staticClass:"mb-2",attrs:{"data-qa":"TokenPrefixInput",label:"Token prefix",required:"",primary:""},model:{value:e.tokenPrefix,callback:function(t){e.tokenPrefix=t},expression:"tokenPrefix"}}):e._e(),"External HTTPS"==e.appType?a("v-text-field",{staticClass:"mb-2",attrs:{"data-qa":"AuthSecretInput",label:"Auth Secret",required:"",primary:""},model:{value:e.authSecret,callback:function(t){e.authSecret=t},expression:"authSecret"}}):e._e(),"External HTTPS"==e.appType?a("v-subheader",[e._v("Info (optional)")]):e._e(),"External HTTPS"==e.appType?a("v-divider"):e._e(),"External HTTPS"==e.appType?a("v-text-field",{attrs:{"data-qa":"AppNameInput",label:"Name"},model:{value:e.appName,callback:function(t){e.appName=t},expression:"appName"}}):e._e(),"External HTTPS"==e.appType?a("v-text-field",{attrs:{"data-qa":"AppDescriptionInput",label:"Description"},model:{value:e.appDescription,callback:function(t){e.appDescription=t},expression:"appDescription"}}):e._e(),"External HTTPS"==e.appType?a("v-text-field",{attrs:{"data-qa":"AppUrlInput",label:"Link"},model:{value:e.appUrl,callback:function(t){e.appUrl=t},expression:"appUrl"}}):e._e(),"External HTTPS"==e.appType?a("v-text-field",{attrs:{"data-qa":"AppLogoInput",label:"Logo Url"},model:{value:e.appLogo,callback:function(t){e.appLogo=t},expression:"appLogo"}}):e._e()],1)],1)],2)},D=[],C=a("365c"),S={props:{value:{type:Boolean,required:!0},branding:{type:Object,required:!0}},data:function(){return{appName:"",appDescription:"",appUrl:"",appLogo:"",appType:"",muranoSolutionId:"",valid:!1,open:!1,defaultApp:!0,httpsTarget:"https://",authType:"basic",authSecret:"",tokenPrefix:"",authTypeOptions:["basic","token"]}},watch:{value:function(){this.open=this.value},open:function(){this.$emit("input",this.open),!this.open&&this.$emit("close-dialog"),this.open&&this.reset()}},methods:{reset:function(){var e=this;this.$nextTick((function(){e.$refs.connectAppForm.reset(),e.appType="Murano",e.httpsTarget="https://",e.authType="basic",e.authSecret="",e.appName="",e.appDescription="",e.appUrl="",e.appLogo="",e.tokenPrefix="",e.muranoSolutionId="",e.defaultApp=!0}))},connectApp:function(){var e,t;return b.a.async((function(a){while(1)switch(a.prev=a.next){case 0:e={default:this.defaultApp},a.t0=this.appType,a.next="Murano"===a.t0?4:"External HTTPS"===a.t0?9:19;break;case 4:return a.next=6,b.a.awrap(C["a"].connectApp(this.muranoSolutionId,e));case 6:return t=a.sent,404===t.status&&(t.error="Murano application not found.\n            Make sure this application is linked to the Connector."),a.abrupt("break",20);case 9:return e.name=this.appName,e.description=this.appDescription,e.url=this.appUrl,e.logo=this.appLogo,e.td={c:this.httpsTarget,t:this.authType,s:this.authSecret},"token"===this.authType&&this.tokenPrefix&&(e.td.tp=this.tokenPrefix),a.next=17,b.a.awrap(C["a"].addApp(e));case 17:return t=a.sent,a.abrupt("break",20);case 19:throw new Error("Unsupported application type '".concat(this.appType,"'"));case 20:return t&&t.error&&this.$parent.$emit("openSnackbar","error",t.error.toString()),a.abrupt("return",t);case 22:case"end":return a.stop()}}),null,this)},validate:function(){return this.$refs.connectAppForm.validate()}}},A=S,O=Object(d["a"])(A,w,D,!1,null,null,null),T=O.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("StandardDialog",{attrs:{action:e.deleteApp,persistent:!1,"confirm-color":"accent","confirm-text":"Remove App",width:"600"},on:{"action-done":function(t){return e.$emit("action-done")}},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[a("template",{slot:"title"},[e._v(' Remove application "'+e._s(e.app.name)+'" ? ')]),a("template",{slot:"content"},[e._v(" All routing to all associated devices will be removed."),a("br"),e._v("Managed applications will still display on your app list."),a("br"),a("br"),e._v("Warning: Removing this application cannot be undone. ")])],2)},j=[],q={props:{value:{type:Boolean,required:!0},app:{type:Object,required:!0},branding:{type:Object,required:!0}},data:function(){return{open:!1}},watch:{value:function(){this.open=this.value},open:function(){this.$emit("input",this.open),!this.open&&this.$emit("close-dialog")}},methods:{deleteApp:function(){var e,t,a;return b.a.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(this.app.remove());case 2:return e=n.sent,t=e.error,a=e.data,t?this.$parent.$emit("openSnackbar","error",t):this.$parent.$emit("openSnackbar","","Application successfully removed"),n.abrupt("return",{error:t,data:a});case 7:case"end":return n.stop()}}),null,this)}}},E=q,P=Object(d["a"])(E,$,j,!1,null,null,null),L=P.exports,R=a("b622"),I=a("629b"),N=a("608e"),B={name:"AppSection",components:{InfoBox:r["a"],AppTokenDialog:f,AppDetailsDialog:k,ConnectAppDialog:T,DeleteAppDialog:L,PageHeading:R["a"],LoadingView:I["a"],AppCards:N["a"]},props:{globalError:{type:String,required:!0},branding:{type:Object,required:!0},apps:{type:Object,required:!0},appsLoading:{type:Boolean,required:!0}},data:function(){return{search:"",appDetailsDialogOpen:!1,appTokenDialogOpen:!1,connectAppDialogOpen:!1,deleteAppDialogOpen:!1,localError:"",appToDelete:{},appToken:"",selectedApp:{}}},computed:{errors:function(){var e=[];return this.globalError&&e.push(this.globalError),this.localError&&e.push(this.localError),e.length>0?e:null},showInfoBox:function(){return this.errors||this.apps.length<1&&!this.appsLoading},showLoading:function(){return this.appsLoading&&!this.showInfoBox}},mounted:function(){this.assignApp()},methods:{openAppDetailsDialog:function(e){this.selectedApp=e,this.appDetailsDialogOpen=!0},openAppTokenDialog:function(e){this.$emit("refetchApps"),this.appToken=e.data.token,this.appTokenDialogOpen=!0},openConnectAppDialog:function(){this.connectAppDialogOpen=!0},openDeleteAppDialog:function(e){this.deleteAppDialogOpen=!0,this.appToDelete=e},getAppImageSrc:function(e){return e.logo||e.l?e.logo||e.l:1===e.type?"static/apps/murano.png":"static/apps/external.png"},appDetailsSaved:function(){this.$emit("refetchApps"),this.$emit("openSnackbar","success","Successfully edited application")},assignApp:function(){this.$route&&this.$route.params.select&&(this.selectedApp=this.$route.params.select,this.appDetailsDialogOpen=!0)}}},H=B,F=(a("cf65"),Object(d["a"])(H,n,i,!1,null,null,null));t["a"]=F.exports},1142:function(e,t,a){"use strict";var n=a("db08"),i=a.n(n);i.a},"19ad":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"headline fill-height",class:{"subtitle-1":e.$vuetify.breakpoint.xs},attrs:{justify:"center",align:"center"}},[a("v-card",{staticClass:"center py-10 text-center elevation-5 border-radius-1",class:{"px-6":e.$vuetify.breakpoint.xs,"px-10":!e.$vuetify.breakpoint.xs}},[e._l(e.texts,(function(t){return a("div",{key:t,staticClass:"mb-2",class:{"accent--text":e.error}},[e._v(" "+e._s(t)+" ")])})),e.btnText?a("div",[a("span",[e._v("Go ahead and")]),a("v-btn",{staticClass:"ml-3",attrs:{color:"accent",small:e.$vuetify.breakpoint.xs,"data-qa":"InfoBoxButton"},on:{click:function(t){return e.$emit("action")}}},[e._v(e._s(e.btnText))])],1):e._e(),a("div",{staticClass:"mt-6"},[a("a",{staticClass:"subtitle-1 info-box__link",attrs:{href:e.links.help,target:"_blank","primary--text":""}},[e._v("Need help?")])])],2)],1)},i=[],r={name:"InfoBox",props:{texts:{type:Array,required:!0},btnText:{type:String,default:""},links:{type:Object,required:!0},error:{type:Boolean}}},s=r,o=(a("6d2a"),a("2877")),c=Object(o["a"])(s,n,i,!1,null,null,null);t["a"]=c.exports},"19d8":function(e,t,a){},"1e51":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height"},[a("v-row",{staticClass:"whitevar--text ml-0",attrs:{align:"center"}},[a("v-col",{staticClass:"text-center"},[a("h1",{staticClass:"mb-4",class:e.$vuetify.breakpoint.xs?"headline":""},[e._v(" You're now signed out ")]),a("p",[e._v(" You can go to the "),a("router-link",{staticClass:"text-underline",attrs:{to:{name:"LandingPage"},"data-qa":"LandingPageLink"}},[e._v("home page")]),e._v(" or "),a("router-link",{staticClass:"text-underline",attrs:{to:{name:"LoginPage"},"data-qa":"LoginPageLink"}},[e._v("sign in")]),e._v(" again. ")],1)])],1)],1)},i=[],r=a("2877"),s={},o=Object(r["a"])(s,n,i,!1,null,null,null);t["a"]=o.exports},"296d":function(e,t,a){},"2bb2":function(e,t,a){"use strict";var n=a("0d3e"),i=a.n(n);i.a},"32a0":function(e,t,a){"use strict";var n=a("a34a"),i=a.n(n),r=a("f953");function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,a){return t&&o(e.prototype,t),a&&o(e,a),e}var l=function(){function e(t){s(this,e),Object.assign(this,t)}return c(e,[{key:"reset",value:function(){var e="/api/devices/".concat(this.identity);return r["a"].del(e)}}]),e}();function p(e){var t,a,n,s,o,c,p;return i.a.async((function(u){while(1)switch(u.prev=u.next){case 0:return t={data:{},error:null},a="/api/devices".concat(e?"?app="+e:""),u.next=4,i.a.awrap(r["a"].get(a));case 4:if(n=u.sent,s=n.error,o=n.data,!s){u.next=10;break}return t.error=s,u.abrupt("return",t);case 10:return c=o&&Array.isArray(o)?o:[],p=!1,t.data.devices=c.map((function(e){return e.online=e.online||e.lastseen/1e3>Date.now()-3e4,new l(e)})),t.data.canLoadMore=p,u.abrupt("return",t);case 15:case"end":return u.stop()}}))}var u=function(e){var t,a,n,s,o,c,l,p;return i.a.async((function(u){while(1)switch(u.prev=u.next){case 0:return t="/api/claim",a={message:"",error:!1},u.next=4,i.a.awrap(r["a"].post(t,e));case 4:if(n=u.sent,s=n.error,o=n.data,!s&&0!==Object.keys(o).length){u.next=11;break}return a.message="Error: Couldn't claim device(s)",a.error=s||!0,u.abrupt("return",a);case 11:return c=0,l=0,Object.keys(o).forEach((function(e){o[e].error?c+=1:l+=1})),c&&(a.error=!0,a.message="Error: Couldn't claim ".concat(c," device(s)")),l&&(p="",c&&(p=", "),a.message+="".concat(p).concat(l," device(s) claimed successfully")),u.abrupt("return",a);case 17:case"end":return u.stop()}}))},d=function(e,t,a){var n,s;return i.a.async((function(i){while(1)switch(i.prev=i.next){case 0:return n="/api/devices",s={devices:e,add_apps:t,remove_apps:a},i.abrupt("return",r["a"].post(n,s));case 3:case"end":return i.stop()}}))};t["a"]={claimDevice:u,fetchDevices:p,edit:d}},"365c":function(e,t,a){"use strict";var n=a("a34a"),i=a.n(n),r=a("f953");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){u(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,a){return t&&l(e.prototype,t),a&&l(e,a),e}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var d=function(){function e(t){c(this,e),u(this,"config",{}),Object.assign(this,t)}return p(e,[{key:"remove",value:function(){var e="/api/apps/".concat(this.id);return r["a"].del(e)}},{key:"edit",value:function(e){var t="/api/apps/".concat(this.id);return r["a"].put(t,o({},this,{},e))}}]),e}();function h(e){var t,a,n,s;return i.a.async((function(o){while(1)switch(o.prev=o.next){case 0:return t={data:{apps:[]},error:!1},o.next=3,i.a.awrap(r["a"].post("/api/apps",e));case 3:if(a=o.sent,n=a.error,s=a.data,!n){o.next=9;break}return t.error=n||"Error: Couldn't add app",o.abrupt("return",t);case 9:return t.data=s,o.abrupt("return",t);case 11:case"end":return o.stop()}}))}function f(e,t){var a,n,s,o;return i.a.async((function(c){while(1)switch(c.prev=c.next){case 0:return a={data:{apps:[]},error:!1},c.next=3,i.a.awrap(r["a"].post("/api/apps/".concat(e),t));case 3:if(n=c.sent,s=n.error,o=n.data,!s){c.next=9;break}return a.error=s||"Error: Couldn't connect app",c.abrupt("return",a);case 9:return a.data=o,c.abrupt("return",a);case 11:case"end":return c.stop()}}))}function v(){var e,t,a,n,s,o;return i.a.async((function(c){while(1)switch(c.prev=c.next){case 0:return e="/api/apps",t={data:{apps:[]},error:!1},c.next=4,i.a.awrap(r["a"].get(e));case 4:if(a=c.sent,n=a.error,s=a.data,!n){c.next=10;break}return t.error=n||"Error: Couldn't get apps",c.abrupt("return",t);case 10:return o={},Object.keys(s).map((function(e){var t=s[e];t.id=e,o[e]=new d(t)})),t.data.apps=o,c.abrupt("return",t);case 14:case"end":return c.stop()}}))}var m={fetchApps:v,connectApp:f,addApp:h},g=a("32a0");function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){x(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function x(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}t["a"]=y({},m,{},g["a"])},3786:function(e,t,a){"use strict";var n=a("a34a"),i=a.n(n),r=a("ba10"),s=a.n(r),o=a("0d5e"),c=a("f953");function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,a){return t&&p(e.prototype,t),a&&p(e,a),e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var h=function(){function e(){l(this,e),d(this,"authenticated",this.isAuthenticated()),d(this,"authNotifier",new s.a),this.login=this.login.bind(this),this.setSession=this.setSession.bind(this),this.logout=this.logout.bind(this),this.signup=this.signup.bind(this),this.isAuthenticated=this.isAuthenticated.bind(this),this.authNotifier.emit("authChange",{authenticated:this.isAuthenticated()})}return u(e,[{key:"login",value:function(e){var t,a,n;return i.a.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,i.a.awrap(c["a"].post("/api/users/login",e));case 2:return t=r.sent,a=t.error,n=t.data,a||n||!n.split(".")[1]||(a="Couldn't login"),a||(this.setSession(n),this.setProfile()),r.abrupt("return",{data:n,error:a});case 8:case"end":return r.stop()}}),null,this)}},{key:"signup",value:function(e){return c["a"].post("/api/users/create",e)}},{key:"activateAccount",value:function(e){var t,a,n;return i.a.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,i.a.awrap(c["a"].post("/api/users/activate",e));case 2:return t=r.sent,a=t.data,n=t.error,n||(this.setSession(a),this.setProfile()),r.abrupt("return",{data:a,error:n});case 7:case"end":return r.stop()}}),null,this)}},{key:"setProfile",value:function(){var e,t,a;return i.a.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(c["a"].get("/api/users/currentUser"));case 2:if(e=n.sent,t=e.error,a=e.data,!t){n.next=7;break}return n.abrupt("return");case 7:localStorage.setItem("profile",JSON.stringify(a));case 8:case"end":return n.stop()}}))}},{key:"setSession",value:function(e){e&&(o["a"].defaults.headers.common["Authorization"]=e,localStorage.setItem("token",e),this.authNotifier.emit("authChange",{authenticated:!0}))}},{key:"logout",value:function(){localStorage.removeItem("token"),localStorage.removeItem("profile"),this.userProfile=null,this.authNotifier&&this.authNotifier.emit("authChange",!1)}},{key:"isAuthenticated",value:function(){var e=localStorage.getItem("token");if(e){if(!e.split(".")[1])return this.logout(),!1;var t=JSON.parse(atob(e.split(".")[1])).exp,a=new Date-1e3*t>0;if(a)return this.logout(),!1;o["a"].defaults.headers.common["Authorization"]=e}return!!e}},{key:"token",value:function(){return localStorage.getItem("token")}},{key:"profile",value:function(){var e=localStorage.getItem("profile");try{return JSON.parse(e)}catch(t){return console.error(t),{}}}}]),e}();t["a"]=new h},"4bfb":function(e,t,a){},"4dec":function(e,t,a){"use strict";var n=a("296d"),i=a.n(n);i.a},"4e09":function(e,t,a){"use strict";var n=a("c3a6"),i=a.n(n);i.a},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("a34a"),i=a.n(n),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["applied"===e.brandingStatus?a("v-app",{staticClass:"app"},[a("VueHeadful",{attrs:{title:""+e.branding.title,description:e.branding.description}}),e.$route.meta.showToolbar?a("AppHeaderStandard",{attrs:{branding:e.branding,"user-email":e.profile.email},on:{logout:e.logout,openClaimDevice:e.openClaimDeviceDialog,"action-done":function(t){e.devicesClaimed+=1}}}):e.$route.meta.hideHeader?e._e():a("AppHeaderSimple",{attrs:{authenticated:!!e.authenticated}}),a("v-content",{staticClass:"grey-bg",class:{"secondary-bg":e.$route.meta.secondaryBg}},[a("router-view",{attrs:{authenticated:!!e.authenticated,"devices-claimed":e.devicesClaimed,apps:e.apps,"apps-loading":e.appsLoading,"global-error":e.error.toString(),branding:e.branding},on:{openClaimDevice:e.openClaimDeviceDialog,openSnackbar:e.openSnackbar,refetchApps:e.fetchApps}})],1),a("ClaimDeviceDialog",{attrs:{"claim-code-query":e.$route.query.claim,branding:e.branding},on:{openSnackbar:e.openSnackbar,"action-done":function(t){e.devicesClaimed+=1}},model:{value:e.claimDeviceDialogOpen,callback:function(t){e.claimDeviceDialogOpen=t},expression:"claimDeviceDialogOpen"}}),a("v-snackbar",{attrs:{color:e.snackbar.color},model:{value:e.snackbar.active,callback:function(t){e.$set(e.snackbar,"active",t)},expression:"snackbar.active"}},[e._v(" "+e._s(e.snackbar.text)+" "),a("v-btn",{attrs:{dark:"",text:""},on:{click:function(t){e.snackbar.active=!1}}},[e._v("Close")])],1),e.$route.meta.showFooter?a("AppFooter",{attrs:{links:e.branding.links,"company-name":e.branding.companyName}}):e._e()],1):"error"===e.brandingStatus?a("v-app",{staticClass:"branding-error"},[a("v-container",{staticStyle:{"font-size":"20px"}},[e._v(" Error: Could not load branding.json. "),a("v-btn",{staticClass:"text-none ml-4",attrs:{href:"http://docs.exosite.com/reference/services/asset/",outlined:"",target:"_blank"}},[e._v("Learn more")])],1)],1):e._e()],1)},s=[],o=a("ec02"),c=a.n(o),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"app-footer px-6 py-4 secondary-bg",staticStyle:{width:"100vw"}},[a("v-row",{staticClass:"subtitle-1 whitevar--text"},[a("v-col",{staticClass:"text-center d-flex justify-space-between px-6",attrs:{cols:"12",sm:"4",lg:"2","order-sm":"1"}},[a("a",{staticClass:"app-footer__link",attrs:{href:e.links.info,target:"_blank","whitevar--text":"","data-qa":"AboutLink"}},[e._v("About")]),a("a",{staticClass:"app-footer__link",attrs:{href:e.links.terms,target:"_blank","whitevar--text":"","data-qa":"TermsLink"}},[e._v("Terms")]),a("a",{staticClass:"app-footer__link",attrs:{href:e.links.help,target:"_blank","whitevar--text":"","data-qa":"HelpLink"}},[e._v("Help ")])]),a("v-col",{attrs:{cols:"6",sm:"4",lg:"5","order-sm":"0"}},[e._v(" © "+e._s((new Date).getFullYear())+" — "+e._s(e.companyName)+" ")]),a("v-col",{staticClass:"text-right",attrs:{cols:"6",sm:"4",lg:"5","order-sm":"2"}},[a("div",[e._v(" v. 1.0 ")])])],1)],1)},p=[],u={name:"AppFooter",props:{links:{type:Object,required:!0},companyName:{type:String,required:!0}}},d=u,h=(a("ac15"),a("2877")),f=Object(h["a"])(d,l,p,!1,null,null,null),v=f.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-toolbar",{staticClass:"pl-2 pr-4",attrs:{color:"primary",dark:"","max-height":e.$vuetify.breakpoint.xs||e.$vuetify.breakpoint.sm?56:64}},[a("router-link",{staticClass:"brandlogo-container",attrs:{to:"/"}},[a("img",{staticClass:"brandlogo",attrs:{src:"vendor/brandlogo.png",alt:"brandlogo--header-simple"}})]),a("v-spacer"),"LoginPage"===e.$route.name||e.authenticated?e._e():a("v-btn",{staticClass:"app-header__login-btn font-weight-bold",attrs:{to:{name:"LoginPage"},color:"secondary",outlined:"",router:"","data-qa":"HeaderLoginButton"}},[e._v(" Login ")])],1)},g=[],b={props:{authenticated:{type:Boolean,required:!0}}},y=b,x=(a("8d59"),Object(h["a"])(y,m,g,!1,null,null,null)),_=x.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("AppDrawer",{attrs:{branding:e.branding},model:{value:e.drawerActive,callback:function(t){e.drawerActive=t},expression:"drawerActive"}}),a("v-app-bar",{staticClass:"pr-1",attrs:{color:"primary",app:"",dark:""}},[a("v-app-bar-nav-icon",{staticClass:"ml-3",attrs:{"data-qa":"HeaderDrawerToggleButton"},on:{click:function(t){e.drawerActive=!e.drawerActive}}}),a("v-toolbar-title",{staticClass:"hidden-xs-only",domProps:{textContent:e._s(e.branding.title)}}),a("v-spacer"),a("v-btn",{staticClass:"mr-0",attrs:{color:"accent"},on:{click:function(t){return e.$emit("openClaimDevice")}}},[e._v("Claim Device")]),a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({staticClass:"mx-2 text-none",attrs:{"data-qa":"HeaderMenuActivator",color:"primary",depressed:""}},n),[a("span",{staticClass:"hidden-xs-only mr-1",attrs:{right:""}},[e._v(e._s(e.userEmail))]),a("v-icon",[e._v("person")])],1)]}}])},[a("v-list",[a("v-list-item",{key:"logout",attrs:{"data-qa":"HeaderLogoutButton"},on:{click:function(t){return e.$emit("logout")}}},[a("v-list-item-title",[e._v("Log Out")])],1)],1)],1)],1)],1)},w=[],D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-navigation-drawer",{attrs:{app:"",fixed:"",width:"200",value:e.value},on:{input:function(t){return e.$emit("input",t)}}},[a("v-row",{staticClass:"secondary",staticStyle:{height:"100%"}},[a("v-col",[a("div",{staticClass:"text-center"},[a("DynamicImage",{attrs:{"image-sources":["vendor/brandlogo-dark.png","vendor/brandlogo.png"],"image-class":"my-4 mx-auto","image-alt":"brandlogo","image-style":"align-self: center; width: 90%"}})],1),a("v-list",e._l(e.drawerItems,(function(t,n){return a("v-list-item",{key:n,staticClass:"white-text darken-2 drawer__tile py-1",attrs:{to:t.route?{name:t.route}:null,"active-class":"primary--text active-link"},on:{click:function(e){t.click&&t.click()}}},[a("v-list-item-action",[a("v-icon",{staticClass:"grey--text lighten-2"},[e._v(" "+e._s(t.icon)+" ")])],1),a("v-list-item-content",{staticStyle:{"margin-left":"-8px"}},[a("v-list-item-title",{staticClass:"drawer-item-title",domProps:{textContent:e._s(t.title)}})],1)],1)})),1)],1),a("div",{staticClass:"grey--text mt-auto drawer__company-footer text-center mb-2"},[a("span",[e._v(" "+e._s(e.branding.companyName)+" © 2019 ")])])],1)],1)},C=[],S=a("d04e"),A={name:"AppDrawer",components:{DynamicImage:S["a"]},props:{value:{type:Boolean,default:!1},branding:{type:Object,required:!0}},data:function(){return{drawerItems:[{icon:"devices",title:"Devices",route:"DevicesPage"},{icon:"cloud",title:"Apps",route:"ApplicationsPage"},{icon:"code",title:"Api",click:function(){window.open(window.origin+"/docs")}}]}}},O=A,T=(a("1142"),Object(h["a"])(O,D,C,!1,null,null,null)),$=T.exports,j={name:"AppHeaderStandard",components:{AppDrawer:$},props:{branding:{type:Object,required:!0},userEmail:{type:String,required:!1,default:""}},data:function(){return{drawerActive:!1}}},q=j,E=Object(h["a"])(q,k,w,!1,null,null,null),P=E.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("StandardDialog",{attrs:{action:e.claimDevice,persistent:!1,"secondary-action":e.openQrScan,valid:e.valid,validate:e.validate,"allow-enter-submit":"","cancel-button":"","confirm-button":"","confirm-text":"Claim","secondary-button":"","secondary-text":"Scan QR Code",width:"500"},on:{"action-done":function(t){return e.$emit("action-done")}},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[a("template",{slot:"title"},[e._v(" Claim device ")]),a("template",{slot:"topRightIcon"},[a("a",{attrs:{href:e.branding.links.helpDevice,target:"_blank"}},[a("v-icon",[e._v(" help ")])],1)]),a("template",{slot:"content"},[a("v-form",{ref:"claimForm",on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("div",[a("v-text-field",{staticClass:"mb-2",attrs:{"data-qa":"ClaimDeviceDialogCodeInput",readonly:e.readOnlyClaim,rules:[function(e){return!!e||"Code is required"}],label:"Claim code",required:"",autofocus:""},model:{value:e.claimCode,callback:function(t){e.claimCode=t},expression:"claimCode"}})],1)]),a("v-switch",{attrs:{label:"Claim to default apps",primary:""},model:{value:e.claimToDefault,callback:function(t){e.claimToDefault=t},expression:"claimToDefault"}})],1)],2)},R=[],I=a("365c"),N={props:{value:{type:Boolean,required:!0},claimCodeQuery:{type:String,required:!1,default:""},branding:{type:Object,required:!0}},data:function(){return{open:!1,claimToDefault:!0,readOnlyClaim:!1,valid:!1,claimCode:""}},watch:{value:function(){this.open=this.value},open:function(){this.$emit("input",this.open),!this.open&&this.$emit("close-dialog"),this.open&&this.reset()}},methods:{reset:function(){var e=this;this.$refs.claimForm.reset(),this.$nextTick((function(){e.checkQuery()}))},validate:function(){return this.$refs.claimForm.validate()},checkQuery:function(){this.claimCodeQuery?(this.claimCode=this.claimCodeQuery,this.readOnlyClaim=!0):this.readOnlyClaim=!1},claimDevice:function(){var e,t;return i.a.async((function(a){while(1)switch(a.prev=a.next){case 0:return e={code:this.claimCode,default:this.claimToDefault},a.next=3,i.a.awrap(I["a"].claimDevice(e));case 3:return t=a.sent,this.$emit("openSnackbar",t.error?"error":"success",t.message),t.error||this.deleteQuery("claim"),a.abrupt("return",t);case 7:case"end":return a.stop()}}),null,this)},deleteQuery:function(e){if(this.$route.query[e]){var t=Object.assign({},this.$route.query);delete t[e],this.$router.replace({query:t})}},openQrScan:function(){this.$router.push({name:"QRScanPage"})}}},B=N,H=Object(h["a"])(B,L,R,!1,null,null,null),F=H.exports,M=a("3786"),U=function(){return{authenticated:M["a"].authenticated,autoOpenClaim:!0,claimDeviceDialogOpen:!1,devicesClaimed:0,error:"",apps:{},appsLoading:!0,profile:{email:""},snackbar:{active:!1,text:"",color:""}}},Q={name:"App",components:{AppFooter:v,AppHeaderSimple:_,AppHeaderStandard:P,ClaimDeviceDialog:F,VueHeadful:c.a},props:{branding:{type:Object,required:!0},brandingStatus:{type:String,required:!0}},data:function(){return U()},mounted:function(){this.startAuthListener(),this.authenticated&&(this.profile=M["a"].profile(),this.fetchApps())},methods:{openClaimDeviceDialog:function(){this.claimDeviceDialogOpen=!0},checkClaimQuery:function(){this.authenticated&&this.$route.query.claim&&this.autoOpenClaim&&(this.autoOpenClaim=!1,this.openClaimDeviceDialog(),"DevicesPage"!==this.$route.name&&this.$router.push({name:"DevicesPage",query:{claim:this.$route.query.claim}}))},openSnackbar:function(e,t){this.snackbar.color=e,this.snackbar.text=t,this.snackbar.active=!0},fetchApps:function(){var e,t,a;return i.a.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(I["a"].fetchApps());case 2:if(e=n.sent,t=e.error,a=e.data,this.appsLoading=!1,!t){n.next=10;break}return this.error=t,this.openSnackbar("error",t),n.abrupt("return");case 10:this.apps=a.apps,this.checkClaimQuery();case 12:case"end":return n.stop()}}),null,this)},logout:function(){this.resetAppState(),M["a"].logout(),this.$router.replace({name:"LogoutPage"})},resetAppState:function(){Object.assign(this.$data,U())},startAuthListener:function(){M["a"].authNotifier.on("authChange",this.authListener)},authListener:function(e){var t=this;if(this.authenticated=e.authenticated,!this.authenticated)return this.resetAppState();M["a"].profile()||M["a"].setProfile().then((function(){t.profile=M["a"].profile(),t.fetchApps()}))}}},V=Q,J=(a("5c0b"),Object(h["a"])(V,r,s,!1,null,null,null)),z=J.exports,K=a("a026"),W=a("ce5b"),Y=a.n(W),G=a("0d5e"),X=a("a18c"),Z=(a("d1e7"),a("bf40"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:e.persistent||e.localLoading,"max-width":e.width,fullscreen:e.fullscreen},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.allowEnterSubmit&&e.doAction()}]},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("v-card",{staticClass:"border-radius-1",class:e.noPadding?"pa-0":"pa-3"},[e.$slots.image?a("div",[e._t("image")],2):e._e(),e.$slots.title?a("v-card-title",{staticClass:"headline standard-dialog-title",class:e.noPadding?"pa-0":""},[e._t("title"),a("v-spacer"),e._t("topRightIcon")],2):e._e(),a("v-card-text",{ref:"content",staticClass:"standard-dialog-content",class:{"pa-0":e.noPadding,"pa-3":!e.noPadding,"standard-dialog-content-fullscreen":e.fullscreen}},[e._t("content")],2),e.$slots.actions?a("v-card-actions",{staticClass:"standard-dialog-actions pa-4"},[e._t("actions")],2):a("v-card-actions",{staticClass:"standard-dialog-actions pa-4"},[e.secondaryButton?a("v-btn",{staticClass:"dialog-secondary",attrs:{outlined:"",color:"primary"},nativeOn:{click:function(t){return e.handleSecondaryAction()}}},[e._v(" "+e._s(e.secondaryText)+" ")]):e._e(),a("v-spacer"),e.cancelButton?a("v-btn",{staticClass:"dialog-cancel",attrs:{disabled:e.localLoading,text:""},nativeOn:{click:function(t){return e.close()}}},[e._v(" "+e._s(e.cancelText)+" ")]):e._e(),e.confirmButton?a("v-btn",{staticClass:"dialog-confirm",attrs:{color:e.confirmColor,disabled:!e.valid||e.localLoading},nativeOn:{click:function(t){return e.doAction()}}},[e._v(" "+e._s(e.confirmText)+" ")]):e._e()],1),e.localLoading?a("v-progress-linear",{staticClass:"dialog-progress",attrs:{absolute:"",color:e.confirmColor,indeterminate:!0,height:"6"}}):e._e()],1)],1)}),ee=[],te={props:{value:{type:Boolean,required:!0,default:!1},action:{type:Function,required:!1,default:function(){return Promise.resolve()}},validate:{type:Function,required:!1,default:function(){return!0}},valid:{type:Boolean,required:!1,default:!0},confirmText:{type:String,required:!1,default:"Save"},confirmButton:{type:Boolean,required:!1,default:!0},confirmColor:{type:String,required:!1,default:"primary"},cancelText:{type:String,required:!1,default:"Cancel"},cancelButton:{type:Boolean,required:!1,default:!0},allowEnterSubmit:{type:Boolean,required:!1,default:!1},secondaryText:{type:String,required:!1,default:"Remove"},secondaryButton:{type:Boolean,required:!1},secondaryAction:{type:Function,required:!1,default:function(){return!1}},width:{type:[Number,String],required:!1,default:700},fullscreen:{type:Boolean,required:!1},loading:{type:Boolean,required:!1,default:void 0},noPadding:{type:Boolean,required:!1,default:void 0},persistent:{type:Boolean,required:!1,default:!0}},data:function(){return{show:!1,localLoading:!1}},watch:{value:function(e){this.show=e},show:function(e){e||this.close()},loading:function(e){this.localLoading=e}},mounted:function(){this.$emit("input",!1)},methods:{handleSecondaryAction:function(){this.secondaryAction(),this.close()},close:function(){this.localLoading=!1,this.$emit("input",!1),this.$emit("close")},doAction:function(){var e=this,t=this.validate();if(t)return this.localLoading=void 0===this.loading||this.loading,this.action().then((function(t){if(t&&t.error)throw new Error(t.error);e.$emit("action-done",t),e.$parent.$emit("action-done",t),e.close()})).catch((function(t){console.warn("error in dialog action: ",t),e.$emit("action-error",t),e.localLoading=void 0!==e.loading&&e.loading}))}}},ae=te,ne=(a("b919"),Object(h["a"])(ae,Z,ee,!1,null,null,null)),ie=ne.exports,re=function(e,t){return e?e.length<=t?e:e.slice(0,t).trim()+"...":e},se={truncateText:re};function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(a),!0).forEach((function(t){le(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function le(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function pe(e){return pe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}K["default"].filter("truncateText",se.truncateText),K["default"].use(Y.a),K["default"].component("StandardDialog",ie),K["default"].config.productionTip=!1,K["default"].prototype.$docLink="https://docs.exosite.com/connectivity/pdaas",K["default"].prototype.$userDocLink="".concat(K["default"].prototype.$docLink,"/device-owner/");var ue=new Y.a({options:{customProperties:!0},icons:{iconfont:"md"},theme:{options:{customProperties:!0}}});new K["default"]({el:"#app",vuetify:ue,router:X["a"],components:{App:z},data:function(){return{branding:{},brandingStatus:"loading",error:""}},mounted:function(){this.loadBranding()},methods:{loadBranding:function(){var e,t;return i.a.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i.a.awrap(G["a"].get("/vendor/branding.json"));case 3:if(e=a.sent,t=e.data,"object"===pe(t)){a.next=7;break}throw new Error("unable to load JSON file");case 7:this.applyBranding(t),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](0),console.warn(a.t0),this.brandingStatus="error";case 14:case"end":return a.stop()}}),null,this,[[0,10]])},applyBranding:function(e){var t=e,a=t.theme,n=void 0===a?{}:a,i={helpApp:"".concat(this.$userDocLink,"#managing-applications"),helpDevice:"".concat(this.$userDocLink,"#managing-devices")};t.links=ce({},i,{},t.links),Object.assign(this.branding,t),Object.assign(this.$vuetify.theme.themes.light,ce({},n,{whitevar:"light"===e.themeType?"#000":"#fff"})),this.brandingStatus="applied"}},template:'<App :branding="branding" :brandingStatus="brandingStatus" />'})},"57c5":function(e,t,a){"use strict";var n=a("efad"),i=a.n(n);i.a},5992:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticStyle:{height:"100%"}},[a("PageHeading",{attrs:{name:"Devices"}},[a("v-tooltip",{attrs:{top:"",disabled:!!e.selected.length},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("div",e._g({},n),[a("v-btn",{staticClass:"ml-4",attrs:{outlined:"",disabled:!e.selected.length},on:{click:e.openAppConfigurationDialog}},[a("v-icon",{attrs:{left:""}},[e._v("edit")]),e._v("Configure ")],1)],1)]}}]),model:{value:e.showTooltip,callback:function(t){e.showTooltip=t},expression:"showTooltip"}},[a("span",[e._v("Select a device to configure")])]),a("v-spacer",{staticClass:"hidden-xs-only"}),a("v-col",{staticClass:"mr-4",attrs:{cols:"5",md:"3"}},[a("v-text-field",{staticClass:"standard-search",attrs:{"append-icon":"search",label:"Search","single-line":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-col",{staticClass:"ml-auto",attrs:{cols:"5",md:"3",lg:"2"}},[a("v-select",{staticClass:"standard-select",attrs:{items:Object.values(e.apps),clearable:!0,label:"Filter by app","item-text":"name","item-value":"id",outlined:""},model:{value:e.selectedAppId,callback:function(t){e.selectedAppId=t},expression:"selectedAppId"}})],1)],1),e.devices.length>0&&!e.devicesLoading?a("v-data-table",{staticClass:"elevation-4 border-radius-1 overflow-hidden",attrs:{headers:e.headers,items:e.devices,search:e.search,"item-key":"identity","hide-default-footer":"","must-sort":"","show-select":"","data-qa":"DevicesTable"},on:{"click:row":e.openDeviceDetailsDialog},scopedSlots:e._u([{key:"item.lastip",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.lastip||"-")+" ")]}},{key:"item.apps",fn:function(t){var a=t.item;return[e._v(" "+e._s((a.apps||[]).length)+" ")]}},{key:"item.update",fn:function(t){var a=t.item;return[e._v(" "+e._s(0===a.lastseen?"Hasn't reported yet":new Date(a.lastseen/1e3).toLocaleString())+" ")]}},{key:"item.online",fn:function(t){var n=t.item;return[n.online?a("v-chip",{staticClass:"chip-online"},[e._v("online")]):a("span",{staticClass:"pl-1",attrs:{color:"grey"}},[e._v("offline")])]}},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{color:"error",icon:"warning"}},[e._v('Your search for "'+e._s(e.search)+'" found no results.')])]},proxy:!0}],null,!1,4190619299),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}):e._e(),e.showInfoBox||e.devicesLoading&&!e.errors?a("v-row",{staticStyle:{height:"60%"},attrs:{justify:"center",align:"center"}},[e.showInfoBox?a("InfoBox",{attrs:{texts:e.errors||["There are no devices for this app"],"btn-text":e.errors?null:"Claim Device",links:e.branding.links,error:!!e.errors},on:{action:function(t){return e.$emit("openClaimDevice")}}}):e._e(),e.devicesLoading&&!e.errors?a("LoadingView",{attrs:{text:"Loading devices","data-qa":"DevicesLoadingView"}}):e._e()],1):e._e(),a("DeviceDetailsDialog",{attrs:{device:e.selectedDevice,branding:e.branding,apps:e.apps},on:{openResetDeviceDialog:e.openResetDeviceDialog,"app-configure-done":e.appConfigureDone,"app-to-add":e.appToAdd},model:{value:e.deviceDetailsDialogOpen,callback:function(t){e.deviceDetailsDialogOpen=t},expression:"deviceDetailsDialogOpen"}}),a("ResetDeviceDialog",{attrs:{device:e.selectedDevice,branding:e.branding},on:{openSnackbar:function(t){return e.$emit("openSnackbar")},"action-done":e.fetchDevices},model:{value:e.resetDeviceDialogOpen,callback:function(t){e.resetDeviceDialogOpen=t},expression:"resetDeviceDialogOpen"}}),a("AppConfigurationDialog",{attrs:{apps:e.apps,devices:e.selected,branding:e.branding},on:{openSnackbar:function(t){return e.$emit("openSnackbar")},"action-done":e.appConfigureDone},model:{value:e.appConfigurationDialogOpen,callback:function(t){e.appConfigurationDialogOpen=t},expression:"appConfigurationDialogOpen"}})],1)},i=[],r=a("a34a"),s=a.n(r),o=a("19ad"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("StandardDialog",{attrs:{persistent:!1,"confirm-text":e.jsonView?"Close State":"See state (JSON)",fullscreen:(e.$vuetify.breakpoint.xs||e.$vuetify.breakpoint.sm)&&e.jsonView,width:e.jsonView?"1400":"600"},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[a("template",{slot:"title"},[e._v(" "+e._s(e.device.identity)+" "),e.device.online?a("v-chip",{staticClass:"chip-online ml-4"},[e._v("online")]):a("v-chip",{staticClass:"chip-offline ml-4"},[e._v("offline")])],1),a("template",{slot:"topRightIcon"},[a("a",{attrs:{href:e.branding.links.helpDevice,target:"_blank"}},[a("v-icon",[e._v("help")])],1)]),a("template",{slot:"content"},[a("v-subheader",{staticClass:"dialog-subheader"},[e._v(" Apps "),a("i",{staticClass:"v-icon notranslate material-icons theme--light margin_have",attrs:{"data-qa":"AddanApp"},on:{click:function(t){return e.AddNewAppfromDevice()}}},[e._v(" add_circle ")])]),(e.device.apps||[]).length>0?a("v-card",{staticClass:"mb-3",attrs:{outlined:""}},[a("v-list",{staticClass:"dialog-card",attrs:{rounded:""}},e._l(e.device.apps,(function(t,n){return a("v-list-item",{key:n,attrs:{selectable:""}},[a("v-list-item-content",[a("v-list-item-title",[a("div",{staticStyle:{display:"flex","flex-direction":"row"}},[a("v-chip",{staticClass:"ml-4"},[a("a",{on:{click:function(a){return e.$router.push({name:"ApplicationsPage",params:{select:e.apps[t]}})}}},[e._v(" "+e._s(e.apps[t]?e.apps[t].name:t)+" ")])]),a("v-icon",{staticClass:"delete-icon",attrs:{"data-qa":"AppCardDelete",text:""},on:{click:function(a){return e.RemoveAppfromDevice(e.device.identity,e.apps[t].id)}}},[e._v("delete")])],1)])],1)],1)})),1)],1):e._e(),a("v-subheader",{staticClass:"dialog-subheader"},[e._v("Users")]),a("v-card",{attrs:{outlined:""}},[a("v-list",{staticClass:"dialog-card"},e._l(e.device.users,(function(t,n){return a("v-list-item",{key:n,attrs:{selectable:""}},[a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(t)+" ")])],1)],1)})),1)],1),e.jsonView?a("JsonView",{attrs:{"json-data":e.device.state,"data-qa":"DeviceDetailsJsonView"}}):e._e(),a("v-divider")],1),a("template",{slot:"actions"},[a("v-btn",{staticClass:"mr-2",attrs:{text:"",color:"accent","data-qa":"DeviceDetailsButtonReset"},on:{click:e.openResetDeviceDialog}},[e._v("Reset")]),a("v-spacer"),a("v-btn",{staticClass:"hidden-xs-only mr-2",attrs:{text:"","data-qa":"DeviceDetailsButtonClose"},on:{click:function(t){e.open=!1}}},[e._v("Close")]),a("v-tooltip",{attrs:{disabled:e.device.state&&!Object.keys(e.device.state).length<1,top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("div",e._g({},n),[a("v-btn",{staticClass:"text-none",attrs:{outlined:"","data-qa":"DeviceDetailsButtonState",color:"primary",disabled:Object.keys(e.device.state).length<1},on:{click:e.toggleJsonView}},[e._v(e._s(e.jsonView?"Hide State":"See State (JSON)"))])],1)]}}])},[a("span",[e._v("No state available")])])],1)],2)},l=[],p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{ref:"jsonWrapper",attrs:{fluid:""}})},u=[];function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var h=function(){var e={getClass:function(e){return Object.prototype.toString.call(e)},getType:function(t){if(null===t)return"null";switch(d(t)){case"number":return"number";case"string":return"string";case"boolean":return"boolean"}switch(e.getClass(t)){case"[object Array]":return"array";case"[object Object]":return"object"}throw new Error("Bad type: "+e.getClass(t))},forEachNode:function(t,a){var n,i=e.getType(t);switch(i){case"array":n=t.length-1,t.forEach((function(e,t){a(t,e,t===n)}));break;case"object":var r=Object.keys(t).sort();n=r.length-1,r.forEach((function(e,i){a(e,t[e],i===n)}));break}},inherits:function(){var e=function(){};return function(t,a){e.prototype=a.prototype,t.prototype=new e,t.prototype.constructor=t}}(),isValidRoot:function(t){switch(e.getType(t)){case"object":case"array":return!0;default:return!1}},extend:function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])}};function t(a,n,i){var r=e.getType(n);if(r in t.CONSTRUCTORS)return new t.CONSTRUCTORS[r](a,n,i);throw new Error("Bad type: "+e.getClass(n))}function a(e,t,n){if(this.constructor===a)throw new Error("This is abstract class");var i,r=this,s=document.createElement("li"),o=function(e,t){var a='                    <span class="jsontree_label-wrapper">                        <span class="jsontree_label">"'+e+'"</span> :                     </span>                    <span class="jsontree_value-wrapper">                        <span class="jsontree_value jsontree_value_'+r.type+'">'+t+"</span>"+(n?"":",")+"</span>";return a};r.label=e,r.isComplex=!1,s.classList.add("jsontree_node"),s.innerHTML=o(e,t),r.el=s,i=s.querySelector(".jsontree_label"),i.addEventListener("click",(function(e){if(!e.altKey)return e.shiftKey?(document.getSelection().removeAllRanges(),void alert(r.getJSONPath())):void 0;r.toggleMarked()}),!1)}function n(e,t,n){this.type="boolean",a.call(this,e,t,n)}function i(e,t,n){this.type="number",a.call(this,e,t,n)}function r(e,t,n){this.type="string",a.call(this,e,'"'+t+'"',n)}function s(e,t,n){this.type="null",a.call(this,e,t,n)}function o(a,n,i){if(this.constructor===o)throw new Error("This is abstract class");var r,s,c,l=this,p=document.createElement("li"),u=function(e,t){var a=i?"":",",n='                        <div class="jsontree_value-wrapper">                            <div class="jsontree_value jsontree_value_'+l.type+'">                                <b>'+t[0]+'</b>                                <span class="jsontree_show-more">&hellip;</span>                                <ul class="jsontree_child-nodes"></ul>                                <b>'+t[1]+"</b></div>"+a+"</div>";return null!==e&&(n='                        <span class="jsontree_label-wrapper">                            <span class="jsontree_label"><span class="jsontree_expand-button"></span>"'+e+'"</span> :                         </span>'+n),n},d=[];l.label=a,l.isComplex=!0,p.classList.add("jsontree_node"),p.classList.add("jsontree_node_complex"),p.innerHTML=u(a,l.sym),r=p.querySelector(".jsontree_child-nodes"),null!==a?(s=p.querySelector(".jsontree_label"),c=p.querySelector(".jsontree_show-more"),s.addEventListener("click",(function(e){if(!e.altKey)return e.shiftKey?(document.getSelection().removeAllRanges(),void alert(l.getJSONPath())):void l.toggle(e.ctrlKey||e.metaKey);l.toggleMarked()}),!1),c.addEventListener("click",(function(e){l.toggle(e.ctrlKey||e.metaKey)}),!1),l.isRoot=!1):(l.isRoot=!0,l.parent=null,p.classList.add("jsontree_node_expanded")),l.el=p,l.childNodes=d,l.childNodesUl=r,e.forEachNode(n,(function(e,a,n){l.addChild(new t(e,a,n))})),l.isEmpty=!d.length,l.isEmpty&&p.classList.add("jsontree_node_empty")}function c(e,t,a){this.sym=["{","}"],this.type="object",o.call(this,e,t,a)}function l(e,t,a){this.sym=["[","]"],this.type="array",o.call(this,e,t,a)}function p(e,t){this.wrapper=document.createElement("ul"),this.wrapper.className="jsontree_tree clearfix",this.rootNode=null,this.sourceJSONObj=e,this.loadData(e),this.appendTo(t)}return t.CONSTRUCTORS={boolean:n,number:i,string:r,null:s,object:c,array:l},a.prototype={constructor:a,mark:function(){this.el.classList.add("jsontree_node_marked")},unmark:function(){this.el.classList.remove("jsontree_node_marked")},toggleMarked:function(){this.el.classList.toggle("jsontree_node_marked")},expandParent:function(e){this.parent&&(this.parent.expand(),this.parent.expandParent(e))},getJSONPath:function(e){return this.isRoot?"$":(t="array"===this.parent.type?"["+this.label+"]":e?"."+this.label:"['"+this.label+"']",this.parent.getJSONPath(e)+t);var t}},e.inherits(n,a),e.inherits(i,a),e.inherits(r,a),e.inherits(s,a),e.inherits(o,a),e.extend(o.prototype,{constructor:o,addChild:function(e){this.childNodes.push(e),this.childNodesUl.appendChild(e.el),e.parent=this},expand:function(e){this.isEmpty||(this.isRoot||this.el.classList.add("jsontree_node_expanded"),e&&this.childNodes.forEach((function(t,a){t.isComplex&&t.expand(e)})))},collapse:function(e){this.isEmpty||(this.isRoot||this.el.classList.remove("jsontree_node_expanded"),e&&this.childNodes.forEach((function(t,a){t.isComplex&&t.collapse(e)})))},toggle:function(e){if(!this.isEmpty&&(this.el.classList.toggle("jsontree_node_expanded"),e)){var t=this.el.classList.contains("jsontree_node_expanded");this.childNodes.forEach((function(a,n){a.isComplex&&a[t?"expand":"collapse"](e)}))}},findChildren:function(e,t,a){this.isEmpty||this.childNodes.forEach((function(n,i){e(n)&&t(n),n.isComplex&&a&&n.findChildren(e,t,a)}))}}),e.inherits(c,o),e.inherits(l,o),p.prototype={constructor:p,loadData:function(a){e.isValidRoot(a)?(this.sourceJSONObj=a,this.rootNode=new t(null,a,"last"),this.wrapper.innerHTML="",this.wrapper.appendChild(this.rootNode.el)):alert("The root should be an object or an array")},appendTo:function(e){e.appendChild(this.wrapper)},expand:function(e){this.rootNode.isComplex&&("function"==typeof e?this.rootNode.childNodes.forEach((function(t,a){t.isComplex&&e(t)&&t.expand()})):this.rootNode.expand("recursive"))},collapse:function(){"function"===typeof this.rootNode.collapse&&this.rootNode.collapse("recursive")},toSourceJSON:function(e){if(!e)return JSON.stringify(this.sourceJSONObj);var t="[%^$#$%^%]",a=JSON.stringify(this.sourceJSONObj,null,t);return a=a.split("\n").join("<br />"),a=a.split(t).join("&nbsp;&nbsp;&nbsp;&nbsp;"),a},findAndHandle:function(e,t){this.rootNode.findChildren(e,t,"isRecursive")},unmarkAll:function(){this.rootNode.findChildren((function(e){return!0}),(function(e){e.unmark()}),"isRecursive")}},{create:function(e,t){return new p(e,t)}}}(),f={props:{jsonData:{type:Object,required:!0}},mounted:function(){var e=this.$refs.jsonWrapper,t=h.create(this.jsonData,e);t.expand((function(e){return e.parent.isRoot}))}},v=f,m=(a("599f"),a("2877")),g=Object(m["a"])(v,p,u,!1,null,null,null),b=g.exports,y=a("32a0"),x={components:{JsonView:b},props:{value:{type:Boolean,required:!0},device:{type:Object,required:!0},apps:{type:Object,required:!0},branding:{type:Object,required:!0}},data:function(){return{open:!1,jsonView:!1}},watch:{value:function(){this.open=this.value},open:function(){this.$emit("input",this.open),!this.open&&this.$emit("close-dialog"),this.open&&this.reset()}},methods:{reset:function(){this.jsonView=!1},toggleJsonView:function(){return this.jsonView=!this.jsonView,new Promise((function(e){return e()}))},openResetDeviceDialog:function(){this.open=!1,this.$emit("openResetDeviceDialog")},RemoveAppfromDevice:function(e,t){var a,n;return s.a.async((function(i){while(1)switch(i.prev=i.next){case 0:if(""==e||""==t){i.next=7;break}return a=[e],n=[t],i.next=5,s.a.awrap(y["a"].edit(a,[],n));case 5:this.open=!1,this.$emit("app-configure-done");case 7:case"end":return i.stop()}}),null,this)},AddNewAppfromDevice:function(){this.open=!1,this.$emit("app-to-add")}}},_=x,k=(a("2bb2"),Object(m["a"])(_,c,l,!1,null,null,null)),w=k.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("StandardDialog",{attrs:{persistent:!1,"confirm-text":"Reset device","confirm-color":"accent",action:e.resetDevice,width:"600"},on:{"action-done":function(t){return e.$emit("action-done")}},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[a("template",{slot:"title"},[e._v(" Reset device "+e._s(e.device.identity)+" ")]),a("template",{slot:"topRightIcon"},[a("a",{attrs:{href:e.branding.links.helpDevice,target:"_blank"}},[a("v-icon",[e._v(" help ")])],1)]),a("template",{slot:"content"},[e._v(" Warning: By resetting a device you will lose ownership of it. ")])],2)},C=[],S={props:{value:{type:Boolean,required:!0},device:{type:Object,required:!0},branding:{type:Object,required:!0}},data:function(){return{open:!1}},watch:{value:function(){this.open=this.value},open:function(){this.$emit("input",this.open),!this.open&&this.$emit("close-dialog")}},methods:{resetDevice:function(){var e;return s.a.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.a.awrap(this.device.reset(this.device));case 2:return e=t.sent,e.error?this.$parent.$emit("openSnackbar","error",e.error):this.$parent.$emit("openSnackbar","","Device reset successfully"),t.abrupt("return",e);case 5:case"end":return t.stop()}}),null,this)}}},A=S,O=Object(m["a"])(A,D,C,!1,null,null,null),T=O.exports,$=a("b622"),j=a("629b"),q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("StandardDialog",{attrs:{persistent:!1,"confirm-text":"Apply","cancel-text":"Close",action:e.editDevices},on:{"action-done":function(t){return e.$emit("action-done")}},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[a("template",{slot:"title"},[e._v("Configure apps for "+e._s(e.devices.length)+" selected "+e._s(1==e.devices.length?"device":"devices"))]),a("template",{slot:"topRightIcon"},[a("a",{attrs:{href:e.branding.links.helpDevice,target:"_blank"}},[a("v-icon",[e._v("help")])],1)]),a("template",{slot:"content"},e._l(e.apps,(function(t){return a("v-list",{key:t.id},[[a("v-list-item",{on:{click:function(a){return a.stopPropagation(),e.toggleStatus(t)}}},[a("v-list-item-action",[a("v-checkbox",{attrs:{value:t.new_state,"value-comparator":e.compareStatus,indeterminate:"partial"===t.new_state}})],1),a("v-list-item-content",{class:t.action},[a("v-list-item-title",[e._v(e._s(t.name))])],1)],1),a("v-divider")]],2)})),1)],2)},E=[],P={components:{},props:{value:{type:Boolean,required:!0},devices:{type:Array,required:!0},apps:{type:Object,required:!0},branding:{type:Object,required:!0}},data:function(){return{open:!1}},watch:{value:function(){this.open=this.value},devices:function(){this.refreshAppDeviceState()},apps:function(){this.refreshAppDeviceState()},open:function(){this.$emit("input",this.open),!this.open&&this.$emit("close-dialog"),this.open&&this.reset()}},mounted:function(){this.refreshAppDeviceState()},methods:{reset:function(){},compareStatus:function(e){return"enabled"===e},toggleStatus:function(e){"enabled"==e.new_state?"partial"===e.current_state?e.new_state=e.current_state:e.new_state="disabled":"partial"===e.new_state?e.new_state="disabled":e.new_state="enabled",this.$forceUpdate()},refreshAppDeviceState:function(){var e=this,t=this.devices.length,a=function(a){var n=e.apps[a],i=e.devices.filter((function(e){return e.apps&&e.apps.includes(a)})).length;n.current_state=t===i?"enabled":0==i?"disabled":"partial",n.new_state=n.current_state};for(var n in this.apps)a(n)},editDevices:function(){var e=Object.values(this.apps).filter((function(e){return e.current_state!==e.new_state})),t=e.filter((function(e){return"enabled"===e.new_state})).map((function(e){return e.id})),a=e.filter((function(e){return"disabled"===e.new_state})).map((function(e){return e.id})),n=this.devices.map((function(e){return e.identity}));return y["a"].edit(n,t,a)}}},L=P,R=(a("57c5"),Object(m["a"])(L,q,E,!1,null,"1cfdaa35",null)),I=R.exports,N={components:{AppConfigurationDialog:I,InfoBox:o["a"],DeviceDetailsDialog:w,PageHeading:$["a"],ResetDeviceDialog:T,LoadingView:j["a"]},props:{devicesClaimed:{type:Number,required:!0},apps:{type:Object,required:!0},globalError:{type:String,required:!0},branding:{type:Object,required:!0}},data:function(){return{appConfigurationDialogOpen:!1,devicesLoading:!0,search:"",headers:[{text:"Device ID",value:"identity",sortable:!0},{text:"Status",value:"online",sortable:!0},{text:"Last IP",value:"lastip",sortable:!0},{text:"Last Seen",value:"update",sortable:!0},{text:"Apps",value:"apps",sortable:!0}],devices:[],selected:[],canLoadMore:!1,localError:null,selectedAppId:"",selectedDevice:{state:{}},deviceDetailsDialogOpen:!1,resetDeviceDialogOpen:!1,showTooltip:!1}},computed:{errors:function(){var e=[];return this.globalError&&e.push(this.globalError),this.localError&&e.push(this.localError),e.length>0?e:null},showInfoBox:function(){return this.errors||this.devices.length<1&&!this.devicesLoading}},watch:{devicesClaimed:function(){this.fetchDevices()},selectedAppId:function(){this.selected=[],this.fetchDevices()}},mounted:function(){this.assignFilter(),this.fetchDevices()},methods:{appConfigureDone:function(){this.fetchDevices(),this.selected=[]},openAppConfigurationDialog:function(){this.appConfigurationDialogOpen=!0},fetchDevices:function(){var e,t,a;return s.a.async((function(n){while(1)switch(n.prev=n.next){case 0:return this.devicesLoading=!0,n.next=3,s.a.awrap(y["a"].fetchDevices(this.selectedAppId));case 3:if(e=n.sent,t=e.error,a=e.data,!t){n.next=11;break}return this.$emit("openSnackbar","error",t),n.abrupt("return",this.localError=t.toString());case 11:this.canLoadMore=a.canLoadMore,this.devices=a.devices;case 13:this.devicesLoading=!1;case 14:case"end":return n.stop()}}),null,this)},openDeviceDetailsDialog:function(e){this.selectedDevice=e,this.deviceDetailsDialogOpen=!0},openResetDeviceDialog:function(){this.resetDeviceDialogOpen=!0},appToAdd:function(){this.selected=[this.selectedDevice],this.appConfigurationDialogOpen=!0},assignFilter:function(){this.$route&&this.$route.params.select&&(this.selectedAppId=this.$route.params.select)}}},B=N,H=(a("4dec"),Object(m["a"])(B,n,i,!1,null,null,null));t["a"]=H.exports},"599f":function(e,t,a){"use strict";var n=a("badb"),i=a.n(n);i.a},"5c0b":function(e,t,a){"use strict";var n=a("0f62"),i=a.n(n);i.a},"5e44":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height"},[a("v-row",{staticClass:"whitevar--text",attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"text-center"},[a("h1",{staticClass:"mb-4"},[e._v("This page was not found")]),a("p",[e._v(" Error 404. The page you're looking for doesn't seem to be there... ")]),a("v-btn",{staticClass:"text-none",attrs:{text:"",color:"primary",to:"/","data-qa":"HomePageLink"}},[e._v("Go to Home Page")])],1)],1)],1)},i=[],r=a("2877"),s={},o=Object(r["a"])(s,n,i,!1,null,null,null);t["a"]=o.exports},"608e":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{staticClass:"app-container"},[a("v-row",{staticClass:"text-center",attrs:{align:"center",justify:"center"}},e._l(e.apps,(function(t){return a("v-col",{key:t.name,attrs:{cols:"12",sm:"6",md:"3"}},[a("div",{staticClass:"app-card elevation-4 py-5 border-radius-1"},[a("h3",{staticClass:"headline"},[e._v(e._s(t.name))]),a("img",{staticClass:"mx-auto my-4 app-card__img",attrs:{src:t.img}}),a("div",[a("p",{staticClass:"mb-0"},[e._v(e._s(t.description))])]),a("div",{staticClass:"mt-2"},[a("a",{attrs:{href:t.link,target:"_blank"}},[a("v-btn",{staticClass:"text-none",attrs:{outlined:"",color:"primary"}},[e._v("Get Started")])],1)])])])})),1)],1)],1)},i=[],r={name:"AppCards",data:function(){return{apps:[{name:"Exosense",img:"static/apps/exosense.png",description:"Get your Industrial Monitoring.",link:"".concat(this.$userDocLink,"#exosense")},{name:"Murano",img:"static/apps/murano.png",description:"Build your Murano IoT application.",link:"".concat(this.$userDocLink,"murano-app/")},{name:"AWS",img:"static/apps/aws.png",description:"AWS application integration.",link:"".concat(this.$userDocLink,"aws-lambda-es/")},{name:"Others",img:"static/apps/other.png",description:"Connect from anywhere in few steps.",link:"".concat(this.$userDocLink,"#external-application")}]}}},s=r,o=(a("907a"),a("2877")),c=Object(o["a"])(s,n,i,!1,null,null,null);t["a"]=c.exports},"629b":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-col",{staticClass:"text-center"},[a("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}}),a("div",{staticClass:"mt-6",class:e.textColorClass},[e._v(e._s(e.text))])],1)],1)},i=[],r={props:{text:{type:String,required:!1,default:""},textColorClass:{type:String,required:!1,default:""}}},s=r,o=a("2877"),c=Object(o["a"])(s,n,i,!1,null,null,null);t["a"]=c.exports},"62cc":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"login-container fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-col",{staticClass:"text-center login-container__top",attrs:{cols:"10",sm:"6",md:"4",lg:"4",xl:"3"}},[a("DynamicImage",{attrs:{"image-sources":["vendor/brandlogo-dark.png","vendor/brandlogo.png"],"image-class":"login-logo mt-2 mb-6","image-alt":"brandlogo"}}),e.needsAuth?a("div",{staticClass:"text-center whitevar--text mb-6",staticStyle:{"font-size":"17px"}},[e._v(" "+e._s(e.needsAuth)+" ")]):e._e(),"default"===e.display?a("v-tabs",{staticClass:"auth-tabs",staticStyle:{"overflow-x":"hidden"},attrs:{"slider-color":"accent","fixed-tabs":"","background-color":"secondary"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("v-tab",{key:"login-tab",staticClass:"whitevar--text",attrs:{ripple:"","data-qa":"LoginTabButton","background-color":"secondary"}},[e._v("Login")]),a("v-tab",{key:"signup-tabs",staticClass:"whitevar--text",attrs:{ripple:"","data-qa":"SignupTabButton","background-color":"secondary"}},[e._v("Signup")]),a("v-tab-item",{key:"login",staticClass:"width-limit py-6 login-tab",staticStyle:{height:"288px"}},[a("v-form",{ref:"loginForm",attrs:{"data-qa":"LoginForm","background-color":"secondary"},on:{submit:function(t){return t.preventDefault(),e.login(t)}},model:{value:e.loginData.valid,callback:function(t){e.$set(e.loginData,"valid",t)},expression:"loginData.valid"}},[a("v-text-field",{attrs:{rules:e.emailRules,dark:"dark"===e.branding.themeType,required:"",label:"Email","validate-on-blur":""},model:{value:e.loginData.email,callback:function(t){e.$set(e.loginData,"email",t)},expression:"loginData.email"}}),a("v-text-field",{attrs:{rules:e.passwordRules,dark:"dark"===e.branding.themeType,required:"",type:"password",label:"Password","validate-on-blur":""},model:{value:e.loginData.password,callback:function(t){e.$set(e.loginData,"password",t)},expression:"loginData.password"}}),a("div",{staticClass:"text-center mt-2"},[a("v-btn",{attrs:{loading:e.loginData.loading,type:"submit",color:"primary"}},[e._v("Login")])],1)],1)],1),a("v-tab-item",{key:"signup",staticClass:"width-limit py-6 login-tab",staticStyle:{height:"288px"}},[a("v-form",{ref:"signupForm",attrs:{"data-qa":"SignupForm"},on:{submit:function(t){return t.preventDefault(),e.signup(t)}},model:{value:e.signupData.valid,callback:function(t){e.$set(e.signupData,"valid",t)},expression:"signupData.valid"}},[a("v-text-field",{attrs:{rules:e.emailRules,dark:"dark"===e.branding.themeType,label:"Email",required:"","validate-on-blur":""},model:{value:e.signupData.email,callback:function(t){e.$set(e.signupData,"email",t)},expression:"signupData.email"}}),a("div",{staticClass:"text-center mt-2"},[a("v-btn",{staticClass:"text-none",attrs:{loading:e.signupData.loading,type:"submit",color:"primary"}},[e._v("Create Account")])],1),a("p",{staticClass:"whitevar--text mt-6",staticStyle:{"font-size":"12px"}},[e._v(" By creating an account, you are agreeing to our "),a("a",{attrs:{href:e.branding.links.terms}},[e._v("Terms of Service ")]),e._v(". ")])],1)],1)],1):e._e(),"emailVerification"===e.display?a("v-row",{staticClass:"whitevar--text",staticStyle:{height:"288px"},attrs:{justify:"center",align:"center"}},[a("h3",{staticClass:"my-4",style:{fontSize:"28px"}},[e._v(" Account created successfully! ")]),a("p",{staticClass:"subtitle-1"},[e._v(" Please go to your to your email "),a("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.signupData.email))]),e._v(" to verify and finish your registration. ")]),a("v-btn",{staticClass:"mt-4 text-none mx-auto",attrs:{text:"",color:"primary"},on:{click:e.backToLogin}},[e._v("Back to Login")])],1):"accountActivation"===e.display?a("v-row",{staticClass:"whitevar--text",staticStyle:{height:"288px","margin-top":"-20px"},attrs:{justify:"start",align:"center"}},[a("v-form",{ref:"activateAccountForm",attrs:{"data-qa":"ActivateAccountForm"},on:{submit:function(t){return t.preventDefault(),e.activateAccount(t)}},model:{value:e.activateAccountData.valid,callback:function(t){e.$set(e.activateAccountData,"valid",t)},expression:"activateAccountData.valid"}},[a("h3",{staticClass:"my-4",style:{fontSize:"28px"}},[e._v(" Create a password ")]),a("p",{staticClass:"subtitle-1"},[e._v(" Please set a password for you account to finish registration ")]),a("v-text-field",{staticClass:"mt-4 mx-auto",staticStyle:{"max-width":"300px"},attrs:{rules:e.passwordRules,dark:"dark"===e.branding.themeType,type:"password",label:"Password",required:"","validate-on-blur":""},model:{value:e.activateAccountData.password,callback:function(t){e.$set(e.activateAccountData,"password",t)},expression:"activateAccountData.password"}}),a("v-text-field",{staticClass:"mb-4 mx-auto",staticStyle:{"max-width":"300px"},attrs:{rules:e.confirmPasswordRules,dark:"dark"===e.branding.themeType,type:"password",label:"Confirm password",required:"","validate-on-blur":""},model:{value:e.activateAccountData.passwordConfirm,callback:function(t){e.$set(e.activateAccountData,"passwordConfirm",t)},expression:"activateAccountData.passwordConfirm"}}),a("v-btn",{staticClass:"mt-4",attrs:{loading:e.activateAccountData.loading,type:"submit",color:"primary"}},[e._v("Submit")])],1)],1):e._e()],1)],1)],1)},i=[],r=a("a34a"),s=a.n(r),o=a("3786"),c=a("d04e"),l={apptoken:"To complete linking your application with this product, please\n                create an account or login with an existing account.",claim:"Please create an account or login to an existing account to\n                  claim your device(s)",redirect:"Please log in first to access this pages."},p={components:{DynamicImage:c["a"]},props:{branding:{type:Object,required:!0}},data:function(){var e=this;return{display:"default",activeTab:0,needsAuth:"",loginData:{email:"",password:"",valid:!1,loading:!1},signupData:{email:"",valid:!1,loading:!1},activateAccountData:{code:"",password:"",confirmPassword:"",valid:!1,loading:!1},emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],passwordRules:[function(e){return!!e||"Password is required"},function(e){return e.length>7||"Password too short"}],confirmPasswordRules:[function(e){return!!e||"Password is required"},function(e){return e.length>7||"Password too short"},function(t){return e.activateAccountData.password===t||"Passwords must match"}]}},mounted:function(){this.checkQueries()},methods:{checkQueries:function(){var e=this.$route.query;e.activate?(this.activateAccountData.code=e.activate,this.display="accountActivation"):e.claim?this.needsAuth=l.claim:e.redirect&&(this.needsAuth=l.redirect)},backToLogin:function(){this.activeTab="login",this.display="default"},login:function(){var e=this,t={email:this.loginData.email,password:this.loginData.password},a=function(){e.$route.query.redirect?e.$router.replace(e.$route.query.redirect):e.$router.replace({name:"DevicesPage",query:e.$route.query})};this.authenticate("login",t,a)},signup:function(){var e=this,t={email:this.signupData.email},a=function(){e.display="emailVerification"};this.authenticate("signup",t,a)},activateAccount:function(){var e=this,t={code:this.activateAccountData.code,password:this.activateAccountData.password},a=function(){e.$router.replace({name:"DevicesPage"})};this.authenticate("activateAccount",t,a)},authenticate:function(e,t,a){var n,i;return s.a.async((function(r){while(1)switch(r.prev=r.next){case 0:if(this.$refs["".concat(e,"Form")].validate()){r.next=2;break}return r.abrupt("return");case 2:return n=this["".concat(e,"Data")],n.loading=!0,r.next=6,s.a.awrap(o["a"][e](t));case 6:if(i=r.sent,n.loading=!1,!i.error){r.next=10;break}return r.abrupt("return",this.$emit("openSnackbar","error",i.error));case 10:a();case 11:case"end":return r.stop()}}),null,this)}}},u=p,d=(a("4e09"),a("2877")),h=Object(d["a"])(u,n,i,!1,null,null,null);t["a"]=h.exports},"6d2a":function(e,t,a){"use strict";var n=a("74bc"),i=a.n(n);i.a},"74bc":function(e,t,a){},"770e":function(e,t,a){"use strict";var n=a("97e2"),i=a.n(n);i.a},7824:function(e,t,a){},7896:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{staticClass:"secondary pa-6",attrs:{fluid:""}},[a("v-row",{staticStyle:{"min-height":"95vh"},attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"landing__left whitevar--text pl-6",class:{"mr-0":e.$vuetify.breakpoint.xs||e.$vuetify.breakpoint.sm,"mr-5":!e.$vuetify.breakpoint.xs&&!e.$vuetify.breakpoint.sm,"mb-3":e.$vuetify.breakpoint.xs||e.$vuetify.breakpoint.sm,"mt-5":e.$vuetify.breakpoint.xs||e.$vuetify.breakpoint.sm},attrs:{cols:"12",sm:"10",md:"5"}},[a("v-row",{staticClass:"fill-height",attrs:{align:"start",justify:"start"}},[a("h1",{staticClass:"font-weight-bold mb-4 display-3",class:{"display-1":e.$vuetify.breakpoint.xs,"display-2":e.$vuetify.breakpoint.sm}},[e._v(" "+e._s(e.branding.landingPage.mainSlogan)+" ")]),a("h3",{staticClass:"headline mb-4",class:{title:e.$vuetify.breakpoint.xs}},[e._v(" "+e._s(e.branding.landingPage.secondarySlogan)+" ")]),a("v-col",{staticClass:"d-flex pl-0"},[a("v-btn",{staticClass:"primary ml-0 secondary--text mr-4",attrs:{to:{name:"LoginPage"},small:e.$vuetify.breakpoint.xs,router:""}},[e._v("Start now")]),a("v-btn",{staticClass:"white",attrs:{href:e.branding.links.info,small:e.$vuetify.breakpoint.xs,target:"_blank"}},[e._v("Learn more")])],1)],1)],1),a("v-col",{staticClass:"pa-2 pt-6",class:{"pb-5":e.$vuetify.breakpoint.xs},attrs:{cols:"12",sm:"10",md:"5",lg:"4"}},[a("div",{staticClass:"device-card elevation-5 py-6"},[a("v-col",{staticClass:"d-flex flex-column align-center"},[a("h3",{staticClass:"display-1 my-1 font-weight-bold black--text px-4 text-center",class:{headline:e.$vuetify.breakpoint.md||e.$vuetify.breakpoint.sm||e.$vuetify.breakpoint.xs},staticStyle:{"word-break":"break-word"}},[e._v(" "+e._s(e.branding.landingPage.deviceName)+" ")]),a("v-img",{staticClass:"my-6",attrs:{src:"vendor/device.png",alt:"brandlogo",contain:"","max-width":"95%"}}),a("v-col",{staticClass:"specs-chips text-center"},e._l(e.branding.landingPage.deviceSpecs,(function(t){return a("v-chip",{key:t,staticClass:"body-2 black--text ma-1",class:{caption:e.$vuetify.breakpoint.xs},attrs:{color:"dark"===e.branding.themeType?"white":"grey lighten-2"}},[e._v(e._s(t))])})),1)],1)],1)])],1)],1),a("v-container",{staticClass:"apps-page py-12 fill-height",attrs:{fluid:""}},[a("v-container",{staticClass:"app-container"},[a("v-row",{staticClass:"text-center",attrs:{align:"center",justify:"center"}},[a("v-col",{class:{"my-5":e.$vuetify.breakpoint.md||e.$vuetify.breakpoint.lg||e.$vuetify.breakpoint.xl},attrs:{cols:"12"}},[a("h2",{staticClass:"display-3 font-weight-bold mb-4",class:{"display-1":e.$vuetify.breakpoint.xs,"display-2":e.$vuetify.breakpoint.sm}},[e._v(" Integrate with everything. Within minutes. ")]),a("h3",{staticClass:"display-1 mb-4",class:{headline:e.$vuetify.breakpoint.xs||e.$vuetify.breakpoint.sm}},[e._v(" Connecting apps has never been easier ")])]),a("AppCards"),a("div",{staticClass:"mt-12 mb-12"},[a("p",{staticClass:"subtitle-1 px-4",class:{"body-2":e.$vuetify.breakpoint.xs}},[e._v(" This IoT connectivity portal is powered by Exosite "),a("b",[e._v(" Connector-as-a-Service. ")]),e._v(" Find out more on "),a("a",{attrs:{href:this.$userDocLink,target:"_blank"}},[e._v(" "+e._s(this.$userDocLink)+" ")]),e._v(" . ")])])],1)],1)],1)],1)},i=[],r=a("608e"),s={name:"LandingPage",components:{AppCards:r["a"]},props:{branding:{type:Object,required:!0}},data:function(){return{imagePaths:{brandlogo:"vendor/brandlogo.png",device:"vendor/device.png"}}}},o=s,c=(a("f465"),a("2877")),l=Object(c["a"])(o,n,i,!1,null,null,null);t["a"]=l.exports},"7d3a":function(e,t,a){"use strict";var n=a("19d8"),i=a.n(n);i.a},"87f2":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"qr-component text-center pa-0 pb-12"},[a("QrcodeStream",{staticClass:"qr-scanner",on:{init:e.onInit,decode:e.onDecode}},[a("v-row",{staticClass:"headline font-weight-bold qr-scanner__heading whitevar--text primary",class:{"subtitle-2":e.$vuetify.breakpoint.xs},attrs:{justify:"space-between"}},[e.cameraLoading||e.cameraError?e._e():a("v-col",{staticClass:"text-left d-flex align-center"},[a("router-link",{attrs:{to:"/"}},[a("img",{staticClass:"qr-scanner__brandlogo-1",attrs:{src:"vendor/brandlogo.png",alt:"brandlogo"}})])],1),a("v-col",{staticClass:"text-right qr-scanner__right-header"},[e._v(" Device QR Code Scanner ")])],1),e.cameraLoading||e.cameraError?a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"8"}},[a("router-link",{attrs:{to:"/"}},[a("DynamicImage",{attrs:{"image-sources":["vendor/brandlogo-dark.png","vendor/brandlogo.png"],"image-alt":"brandlogo","image-class":"my-4 qr-scanner__brandlogo-2"}})],1),e.cameraLoading?a("p",{staticClass:"whitevar--text"},[e._v(" Please grant camera access permission to procceed to scanning device claim QR code. ")]):e._e()],1)],1):e._e(),e.cameraLoading&&!e.cameraError?a("v-row",{staticClass:"mt-8",attrs:{justify:"center"}},[a("LoadingView",{attrs:{text:"Accessing camera","text-color-class":"primary--text"}})],1):e._e(),a("v-alert",{attrs:{value:!!e.cameraError,type:"error"}},[e._v(e._s(e.cameraError))]),a("v-row",{staticClass:"qr-scanner__buttons",attrs:{justify:"center"}},[a("v-btn",{staticClass:"qr-scanner__buttons--btn",attrs:{to:{name:"DevicesPage"},color:"primary",large:"",router:""}},[e._v("Close")]),a("v-btn",{staticClass:"qr-scanner__buttons--btn",attrs:{href:e.branding.links.help,color:"secondary",target:"_blank",dark:"",large:""}},[e._v("Help")])],1)],1),a("QRScanClaimDialog",{attrs:{branding:e.branding,"claim-code":e.claimCode,"userless-claim":e.userlessClaim},model:{value:e.QRScanClaimDialogOpen,callback:function(t){e.QRScanClaimDialogOpen=t},expression:"QRScanClaimDialogOpen"}})],1)},i=[],r=a("a34a"),s=a.n(r),o=a("9a3e"),c=a("d04e"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("StandardDialog",{attrs:{persistent:!1,width:"500","confirm-text":e.confirmText,action:e.action,loading:e.loading,"allow-enter-submit":e.askForApps},on:{"action-done":function(t){return e.$emit("action-done")}},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[a("template",{slot:"title"},[e._v(" "+e._s(e.dialogTitle)+" ")]),a("template",{slot:"topRightIcon"},[a("a",{attrs:{href:e.branding.links.help,target:"_blank"}},[a("v-icon",{attrs:{router:"",to:""}},[e._v(" help ")])],1)]),a("template",{slot:"content"},[e.claimError?a("div",[a("div",[e._v(e._s(e.claimError))])]):e.claimSuccess?a("div",[a("div",[e._v(e._s(e.claimSuccess))])]):e._e(),!e.claimError&&e.askForApps?a("div",[a("v-switch",{attrs:{label:"Claim to default apps",primary:""},model:{value:e.claimToDefault,callback:function(t){e.claimToDefault=t},expression:"claimToDefault"}}),e.claimToDefault?a("v-checkbox",{staticClass:"mb-0 mt-n3 standard-checkbox",attrs:{label:"Remember for next claims",color:"primary"},model:{value:e.rememberDefault,callback:function(t){e.rememberDefault=t},expression:"rememberDefault"}}):e._e()],1):e._e()])],2)},p=[],u=a("365c"),d={props:{branding:{type:Object,required:!0},claimCode:{type:String,required:!0},userlessClaim:{type:Boolean,required:!0},value:{type:Boolean,required:!0}},data:function(){return{open:!1,claimSuccess:"",claimError:"",askForApps:!0,loading:!1,rememberDefault:!0,claimToDefault:!0}},computed:{dialogTitle:function(){return this.claimError?"Couldn't claim device":this.claimSuccess?"Claim code scanned successfully":"QR Code Scanned"},confirmText:function(){return this.claimError?"Scan again":this.claimSuccess?"New scan":"Claim device"},action:function(){return!this.claimError&&this.askForApps?this.claimDevice:this.closeDialogAsync}},watch:{value:function(){this.open=this.value},open:function(){this.$emit("input",this.open),!this.open&&this.$emit("close-dialog"),this.open&&this.reset()}},methods:{reset:function(){this.claimSuccess="",this.claimError="",this.claimCode?this.askForApps||this.claimDevice():this.claimError="Error: Invalid claim code format"},claimDevice:function(){var e,t;return s.a.async((function(a){while(1)switch(a.prev=a.next){case 0:return this.loading=!0,e={code:this.claimCode,default:this.claimToDefault},a.next=4,s.a.awrap(u["a"].claimDevice(e));case 4:t=a.sent,this.$parent.$emit("openSnackbar",t.error?"error":"success",t.message),t.error?this.claimError=t.message:this.claimSuccess=t.message,this.rememberDefault&&(this.askForApps=!1),this.loading=!1;case 9:case"end":return a.stop()}}),null,this)},closeDialogAsync:function(){var e=this;return new Promise((function(t){e.open=!1,t()}))}}},h=d,f=a("2877"),v=Object(f["a"])(h,l,p,!1,null,null,null),m=v.exports,g=a("629b"),b={name:"QRScanPage",components:{QrcodeStream:o["QrcodeStream"],DynamicImage:c["a"],QRScanClaimDialog:m,LoadingView:g["a"]},props:{authenticated:{required:!0,type:Boolean},branding:{type:Object,required:!0}},data:function(){return{QRScanClaimDialogOpen:!1,cameraError:"",cameraLoading:!0,claimCode:"",userlessClaim:!1}},created:function(){if(!this.authenticated&&!this.$route.query.session)return this.$router.replace({name:"LoginPage",query:{redirect:this.$route.path}});!this.authenticated&&this.$route.query.session&&(this.userlessClaim=!0)},methods:{onInit:function(e){return s.a.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.awrap(e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),"NotAllowedError"===t.t0.name?this.cameraError="ERROR: You need to grant camera access permisson":"NotFoundError"===t.t0.name?this.cameraError="ERROR: No camera on this device":"NotSupportedError"===t.t0.name?this.cameraError="ERROR: Secure context required (HTTPS, localhost)":"NotReadableError"===t.t0.name?this.cameraError="ERROR: Is the camera already in use?":"OverconstrainedError"===t.t0.name?this.cameraError="ERROR: Installed cameras are not suitable":"StreamApiNotSupportedError"===t.t0.name?this.cameraError="ERROR: Stream API is not supported in this browser":this.cameraError="ERROR: Couldn't access camera";case 8:this.cameraLoading=!1;case 9:case"end":return t.stop()}}),null,this,[[0,5]])},onDecode:function(e){if(e&&!this.QRScanClaimDialogOpen){var t=this.parseURL(e);this.openQRScanClaimDialog(t)}},parseURL:function(e){if(!e||"string"!==typeof e)return"";var t=e.split("?")[1];if(!t)return e.match(/https?:\/\/.+\..+/)?"":e;var a="";return t.split("&").forEach((function(e){"claim"===e.split("=")[0]&&e.split("=")[1]&&(a=e.split("=")[1].trim())})),a},openQRScanClaimDialog:function(e){this.claimCode=e,this.QRScanClaimDialogOpen=!0}}},y=b,x=(a("afc3"),Object(f["a"])(y,n,i,!1,null,null,null));t["a"]=x.exports},"8d59":function(e,t,a){"use strict";var n=a("f767"),i=a.n(n);i.a},"907a":function(e,t,a){"use strict";var n=a("4bfb"),i=a.n(n);i.a},"97e2":function(e,t,a){},a18c:function(e,t,a){"use strict";(function(e){var n=a("8c4f"),i=a("a026"),r=a("101c"),s=a("5992"),o=a("7896"),c=a("62cc"),l=a("1e51"),p=a("5e44"),u=a("87f2"),d=a("3786"),h=[{path:"/",name:"LandingPage",component:o["a"],meta:{showFooter:!0,requiresNotAuth:!0}},{path:"/qrscan",name:"QRScanPage",component:u["a"],meta:{showFooter:!0,secondaryBg:!0,hideHeader:!0}},{path:"/login",name:"LoginPage",component:c["a"],meta:{showFooter:!0,requiresNotAuth:!0}},{path:"/devices",name:"DevicesPage",component:s["a"],meta:{showToolbar:!0,requiresAuth:!0}},{path:"/apps",name:"ApplicationsPage",component:r["a"],meta:{showToolbar:!0,requiresAuth:!0}},{path:"/logout",name:"LogoutPage",component:l["a"],meta:{showFooter:!0,secondaryBg:!0,requiresNotAuth:!0}},{path:"*",name:"NotFoundPage",component:p["a"],meta:{secondaryBg:!0,showFooter:!0}}],f={};e&&(i["default"].use(n["a"]),f=new n["a"]({routes:h}),f.beforeEach((function(e,t,a){var n=d["a"].isAuthenticated();if(e.meta.requiresNotAuth&&n)return a({name:"DevicesPage",query:e.query});if(!n&&e.query.claim&&"LoginPage"!==e.name)return a({name:"LoginPage",query:{claim:e.query.claim}});if(!n&&e.meta.requiresAuth){var i={redirect:e.path};return a({name:"LoginPage",query:i})}return a()}))),t["a"]=f}).call(this,a("4362"))},ac15:function(e,t,a){"use strict";var n=a("ca9e"),i=a.n(n);i.a},afc3:function(e,t,a){"use strict";var n=a("e756"),i=a.n(n);i.a},b2be:function(e,t,a){},b622:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-4 pr-2 pl-6 page-heading",class:{"mb-2":e.$vuetify.breakpoint.xs,"mb-4":!e.$vuetify.breakpoint.xs}},[a("h1",{staticClass:"hidden-sm-and-up headline mt-4"},[e._v(e._s(e.name))]),a("v-row",{attrs:{align:"center"}},[a("h1",{staticClass:"hidden-xs-only mr-5"},[e._v(e._s(e.name))]),e._t("default")],2)],1)},i=[],r={props:{name:{required:!0,type:String}}},s=r,o=(a("770e"),a("2877")),c=Object(o["a"])(s,n,i,!1,null,null,null);t["a"]=c.exports},b919:function(e,t,a){"use strict";var n=a("b2be"),i=a.n(n);i.a},badb:function(e,t,a){},bf20:function(e,t,a){},c3a6:function(e,t,a){},ca9e:function(e,t,a){},cf65:function(e,t,a){"use strict";var n=a("7824"),i=a.n(n);i.a},d04e:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("img",{class:e.imageClass,style:e.imageStyle,attrs:{alt:e.imageAlt,src:e.imageSrc,"data-qa":"DynamicImg"},on:{error:e.handleError}})},i=[],r={name:"DynamicImage",props:{imageAlt:{type:String,required:!0},imageSources:{type:Array,required:!0},imageClass:{type:String,required:!1,default:""},imageStyle:{type:String,required:!1,default:""}},data:function(){return{imageIndex:0}},computed:{imageSrc:function(){return this.imageSources[this.imageIndex]}},methods:{handleError:function(){this.imageIndex+1>=this.imageSources.length||(this.imageIndex+=1)}}},s=r,o=a("2877"),c=Object(o["a"])(s,n,i,!1,null,null,null);t["a"]=c.exports},db08:function(e,t,a){},e756:function(e,t,a){},efad:function(e,t,a){},f465:function(e,t,a){"use strict";var n=a("bf20"),i=a.n(n);i.a},f767:function(e,t,a){},f953:function(e,t,a){"use strict";var n=a("a34a"),i=a.n(n),r=a("0d5e"),s=a("3786"),o=a("a18c");function c(e){s["a"].logout(),o["a"].replace({name:"LoginPage",query:{redirect:e}})}function l(e){var t,a,n,r,s,l,p=arguments;return i.a.async((function(u){while(1)switch(u.prev=u.next){case 0:return t=p.length>1&&void 0!==p[1]&&p[1],a={error:!1,data:null},u.prev=2,u.next=5,i.a.awrap(e());case 5:if(n=u.sent,r=n.data,!r||!r.error){u.next=9;break}throw new Error(r.error.response);case 9:if(!t||r){u.next=11;break}throw new Error("No data received");case 11:a.data=r,u.next=22;break;case 14:u.prev=14,u.t0=u["catch"](2),console.error(u.t0),s=401===u.t0.response.status,l=o["a"].history.current.meta.requiresAuth,s&&l&&c(o["a"].history.current.path),a.status=u.t0.response.status,a.error=u.t0;case 22:return u.abrupt("return",a);case 23:case"end":return u.stop()}}),null,null,[[2,14]])}function p(e){var t=function(){return r["a"].get(e)};return l(t,!0)}function u(e){var t=function(){return r["a"].delete(e)};return l(t)}function d(e,t){var a=function(){return r["a"].post(e,t)};return l(a)}function h(e,t){var a=function(){return r["a"].put(e,t)};return l(a)}t["a"]={del:u,get:p,post:d,put:h}}});
//# sourceMappingURL=app.5dd35e67.js.map